
<!DOCTYPE html>


<html lang="en" data-content_root="../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Accessing the CEFI data &#8212; Regional MOM6 Package</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'content/tutorials/data_access_tutorial';</script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
        
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../_static/CEFI_python_tool.png" class="logo__image only-light" alt="Regional MOM6 Package - Home"/>
    <script>document.write(`<img src="../../_static/CEFI_python_tool.png" class="logo__image only-dark" alt="Regional MOM6 Package - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    Regional MOM6 Package
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Getting started</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../get_started/install.html">Installation</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Tutorials</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="regrid_tutorial.html">Regridding the Raw Grid to Regular Grid</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">API reference</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../api/mom6_read.html">Module <code class="docutils literal notranslate"><span class="pre">mom6_read</span></code> - get the CEFI data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/mom6_statistics.html">Module <code class="docutils literal notranslate"><span class="pre">mom6_statistics</span></code> - Calculate CEFI statistics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/mom6_regrid.html">Module <code class="docutils literal notranslate"><span class="pre">mom6_regrid</span></code> - Regridding the raw grid to rectilinear grid</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../api/api_reference_content.html">API Reference for <code class="docutils literal notranslate"><span class="pre">mom6_module</span></code></a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../api/generated/mom6.mom6_module.mom6_read.html">mom6.mom6_module.mom6_read</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/generated/mom6.mom6_module.mom6_statistics.html">mom6.mom6_module.mom6_statistics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/generated/mom6.mom6_module.mom6_regrid.html">mom6.mom6_module.mom6_regrid</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/generated/mom6.mom6_module.mom6_detrend.html">mom6.mom6_module.mom6_detrend</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/generated/mom6.mom6_module.mom6_forecast_tercile.html">mom6.mom6_module.mom6_forecast_tercile</a></li>
</ul>
</details></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/NOAA-CEFI-Portal/regional_mom6" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/NOAA-CEFI-Portal/regional_mom6/issues/new?title=Issue%20on%20page%20%2Fcontent/tutorials/data_access_tutorial.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../_sources/content/tutorials/data_access_tutorial.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Accessing the CEFI data</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#get-the-data-through-opendap">Get the data through OPeNDAP</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#get-the-data-through-aws-s3">Get the data through AWS S3</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="accessing-the-cefi-data">
<h1>Accessing the CEFI data<a class="headerlink" href="#accessing-the-cefi-data" title="Link to this heading">#</a></h1>
<div class="info admonition">
<p class="admonition-title">Techical info</p>
<p>Before diving into the data accessing code, let’s first define what we mean by raw grid and regular grid. The raw grid refers to the curvilinear grid used by the regional MOM6 model. This is the native grid of the model output and is what you will see if you work directly with the simulation data. To use data on the raw grid, you need both the variable file and a corresponding static file that contains the curvilinear grid information.</p>
<p>In contrast, the regular grid refers to a rectilinear grid commonly used in reanalysis datasets or gridded observational products. This type of grid is defined by two coordinates: longitude and latitude, which form a regular, evenly spaced grid across the globe or a specific region.</p>
</div>
<section id="get-the-data-through-opendap">
<h2>Get the data through OPeNDAP<a class="headerlink" href="#get-the-data-through-opendap" title="Link to this heading">#</a></h2>
<p>Here we utilize the OPeNDAP THREDDS server provided by the PSL CEFI data portal. We first define all the necessary information in a dictionary. These entries typically specify the details required to access a particular dataset.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dict_data_info</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;region&quot;</span><span class="p">:</span> <span class="s2">&quot;northwest_atlantic&quot;</span><span class="p">,</span>
    <span class="s2">&quot;subdomain&quot;</span><span class="p">:</span> <span class="s2">&quot;full_domain&quot;</span><span class="p">,</span>
    <span class="s2">&quot;experiment_type&quot;</span><span class="p">:</span> <span class="s2">&quot;hindcast&quot;</span><span class="p">,</span>
    <span class="s2">&quot;output_frequency&quot;</span><span class="p">:</span> <span class="s2">&quot;monthly&quot;</span><span class="p">,</span>
    <span class="s2">&quot;grid_type&quot;</span><span class="p">:</span> <span class="s2">&quot;raw&quot;</span><span class="p">,</span>
    <span class="s2">&quot;release&quot;</span><span class="p">:</span> <span class="s2">&quot;r20230520&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data_source&quot;</span><span class="p">:</span> <span class="s2">&quot;opendap&quot;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<p>We use the <code class="docutils literal notranslate"><span class="pre">AccessFiles</span></code> class from the <code class="docutils literal notranslate"><span class="pre">mom6_read</span></code> module to specify the dataset information and data source. If the connection is successful, the class will return a standard message: <code class="docutils literal notranslate"><span class="pre">Success:</span> <span class="pre">URL</span> <span class="pre">...</span></code>, indicating the URL to the dataset. This URL can also be used to browse the OPeNDAP catalog, which lists all available variables associated with the specified dataset.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">mom6.mom6_module.mom6_read</span><span class="w"> </span><span class="kn">import</span> <span class="n">AccessFiles</span>
<span class="n">cefi_data_access</span> <span class="o">=</span> <span class="n">AccessFiles</span><span class="p">(</span><span class="o">**</span><span class="n">dict_data_info</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Success: URL https://psl.noaa.gov/thredds/catalog/Projects/CEFI/regional_mom6/cefi_portal/northwest_atlantic/full_domain/hindcast/monthly/raw/r20230520/catalog.html responded with status 200.
</pre></div>
</div>
</div>
</div>
<div class="info admonition">
<p class="admonition-title">Tip</p>
<p>The <code class="docutils literal notranslate"><span class="pre">**dict_data_info</span></code> syntax unpacks the key-value pairs in the dictionary and passes them as keyword arguments required to create the <code class="docutils literal notranslate"><span class="pre">cefi_data_access</span></code> object</p>
</div>
<p>Now let’s focus on a single variable - <code class="docutils literal notranslate"><span class="pre">tos</span></code>(sea surface temperature) for downloading. The way to get the variable is through the <code class="docutils literal notranslate"><span class="pre">.get()</span></code> method and by providing the keyword argument <code class="docutils literal notranslate"><span class="pre">variable='tos'</span></code> we can narrow the list down to only <code class="docutils literal notranslate"><span class="pre">tos</span></code> related file on the server for this specific dataset. <code class="docutils literal notranslate"><span class="pre">print_list</span></code> argument help the user to see if there are multiple files that has the variable name <code class="docutils literal notranslate"><span class="pre">tos</span></code>. In this case, we only have one.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">variable_urls</span> <span class="o">=</span> <span class="n">cefi_data_access</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">variable</span><span class="o">=</span><span class="s2">&quot;tos&quot;</span><span class="p">,</span><span class="n">print_list</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>--------- All available files ------------
https://psl.noaa.gov/thredds/dodsC/Projects/CEFI/regional_mom6/cefi_portal/northwest_atlantic/full_domain/hindcast/monthly/raw/r20230520/tos.nwa.full.hcast.monthly.raw.r20230520.199301-201912.nc
</pre></div>
</div>
</div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">variable_urls</span></code> is a list object, in this case, only one element in the list.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">variable_urls</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;https://psl.noaa.gov/thredds/dodsC/Projects/CEFI/regional_mom6/cefi_portal/northwest_atlantic/full_domain/hindcast/monthly/raw/r20230520/tos.nwa.full.hcast.monthly.raw.r20230520.199301-201912.nc&#39;]
</pre></div>
</div>
</div>
</div>
<p>We can now use the URL to access the file with the power of <code class="docutils literal notranslate"><span class="pre">Xarray</span></code></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">xarray</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">xr</span>
<span class="n">ds</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">open_dataset</span><span class="p">(</span><span class="n">variable_urls</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">chunks</span><span class="o">=</span><span class="p">{})</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ds</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewBox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewBox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(
    --jp-content-font-color0,
    var(--pst-color-text-base rgba(0, 0, 0, 1))
  );
  --xr-font-color2: var(
    --jp-content-font-color2,
    var(--pst-color-text-base, rgba(0, 0, 0, 0.54))
  );
  --xr-font-color3: var(
    --jp-content-font-color3,
    var(--pst-color-text-base, rgba(0, 0, 0, 0.38))
  );
  --xr-border-color: var(
    --jp-border-color2,
    hsl(from var(--pst-color-on-background, white) h s calc(l - 10))
  );
  --xr-disabled-color: var(
    --jp-layout-color3,
    hsl(from var(--pst-color-on-background, white) h s calc(l - 40))
  );
  --xr-background-color: var(
    --jp-layout-color0,
    var(--pst-color-on-background, white)
  );
  --xr-background-color-row-even: var(
    --jp-layout-color1,
    hsl(from var(--pst-color-on-background, white) h s calc(l - 5))
  );
  --xr-background-color-row-odd: var(
    --jp-layout-color2,
    hsl(from var(--pst-color-on-background, white) h s calc(l - 15))
  );
}

html[theme="dark"],
html[data-theme="dark"],
body[data-theme="dark"],
body.vscode-dark {
  --xr-font-color0: var(
    --jp-content-font-color0,
    var(--pst-color-text-base, rgba(255, 255, 255, 1))
  );
  --xr-font-color2: var(
    --jp-content-font-color2,
    var(--pst-color-text-base, rgba(255, 255, 255, 0.54))
  );
  --xr-font-color3: var(
    --jp-content-font-color3,
    var(--pst-color-text-base, rgba(255, 255, 255, 0.38))
  );
  --xr-border-color: var(
    --jp-border-color2,
    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 10))
  );
  --xr-disabled-color: var(
    --jp-layout-color3,
    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 40))
  );
  --xr-background-color: var(
    --jp-layout-color0,
    var(--pst-color-on-background, #111111)
  );
  --xr-background-color-row-even: var(
    --jp-layout-color1,
    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 5))
  );
  --xr-background-color-row-odd: var(
    --jp-layout-color2,
    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 15))
  );
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: inline-block;
  opacity: 0;
  height: 0;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
  border: 2px solid transparent !important;
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:focus + label {
  border: 2px solid var(--xr-font-color0) !important;
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: "►";
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: "▼";
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: "(";
}

.xr-dim-list:after {
  content: ")";
}

.xr-dim-list li:not(:last-child):after {
  content: ",";
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  border-color: var(--xr-background-color-row-odd);
  margin-bottom: 0;
  padding-top: 2px;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
  border-color: var(--xr-background-color-row-even);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-index-preview {
  grid-column: 2 / 5;
  color: var(--xr-font-color2);
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  display: none;
  border-top: 2px dotted var(--xr-background-color);
  padding-bottom: 20px !important;
  padding-top: 10px !important;
}

.xr-var-attrs-in + label,
.xr-var-data-in + label,
.xr-index-data-in + label {
  padding: 0 1px;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data,
.xr-index-data-in:checked ~ .xr-index-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-data > pre,
.xr-index-data > pre,
.xr-var-data > table > tbody > tr {
  background-color: transparent !important;
}

.xr-var-name span,
.xr-var-data,
.xr-index-name div,
.xr-index-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2,
.xr-no-icon {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}

.xr-var-attrs-in:checked + label > .xr-icon-file-text2,
.xr-var-data-in:checked + label > .xr-icon-database,
.xr-index-data-in:checked + label > .xr-icon-database {
  color: var(--xr-font-color0);
  filter: drop-shadow(1px 1px 5px var(--xr-font-color2));
  stroke-width: 0.8px;
}
</style><pre class='xr-text-repr-fallback'>&lt;xarray.Dataset&gt; Size: 849MB
Dimensions:     (time: 324, nv: 2, yh: 845, xh: 775)
Coordinates:
  * nv          (nv) float64 16B 1.0 2.0
  * time        (time) datetime64[ns] 3kB 1993-01-16T12:00:00 ... 2019-12-16T...
  * xh          (xh) float64 6kB -98.0 -97.92 -97.84 ... -36.24 -36.16 -36.08
  * yh          (yh) float64 7kB 5.273 5.352 5.432 5.511 ... 51.9 51.91 51.93
Data variables:
    average_DT  (time) timedelta64[ns] 3kB dask.array&lt;chunksize=(324,), meta=np.ndarray&gt;
    average_T1  (time) datetime64[ns] 3kB dask.array&lt;chunksize=(324,), meta=np.ndarray&gt;
    average_T2  (time) datetime64[ns] 3kB dask.array&lt;chunksize=(324,), meta=np.ndarray&gt;
    time_bnds   (time, nv) datetime64[ns] 5kB dask.array&lt;chunksize=(324, 2), meta=np.ndarray&gt;
    tos         (time, yh, xh) float32 849MB dask.array&lt;chunksize=(324, 845, 775), meta=np.ndarray&gt;
Attributes: (12/30)
    NumFilesInSet:                   1
    title:                           NWA12_COBALT_2023_04_kpo4-coastatten-phy...
    associated_files:                areacello: 19930101.ocean_static.nc
    grid_type:                       regular
    grid_tile:                       N/A
    external_variables:              areacello
    ...                              ...
    cefi_forcing:                    N/A
    cefi_data_doi:                   10.5281/zenodo.7893386
    cefi_paper_doi:                  10.5194/gmd-16-6943-2023
    cefi_aux:                        N/A
    cefi_ori_category:               ocean_monthly
    DODS_EXTRA.Unlimited_Dimension:  time</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.Dataset</div></div><ul class='xr-sections'><li class='xr-section-item'><input id='section-3f79de04-0291-41c8-9fae-b8bab46f2bbc' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-3f79de04-0291-41c8-9fae-b8bab46f2bbc' class='xr-section-summary'  title='Expand/collapse section'>Dimensions:</label><div class='xr-section-inline-details'><ul class='xr-dim-list'><li><span class='xr-has-index'>time</span>: 324</li><li><span class='xr-has-index'>nv</span>: 2</li><li><span class='xr-has-index'>yh</span>: 845</li><li><span class='xr-has-index'>xh</span>: 775</li></ul></div><div class='xr-section-details'></div></li><li class='xr-section-item'><input id='section-2036f513-a3c7-4c1f-98f7-7802ebc9b349' class='xr-section-summary-in' type='checkbox'  checked><label for='section-2036f513-a3c7-4c1f-98f7-7802ebc9b349' class='xr-section-summary' >Coordinates: <span>(4)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>nv</span></div><div class='xr-var-dims'>(nv)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>1.0 2.0</div><input id='attrs-d61e12e5-fe51-4018-bc2c-a0a4649e7d3b' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-d61e12e5-fe51-4018-bc2c-a0a4649e7d3b' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-24a955f1-695e-4ba2-9a23-729a4b9c4978' class='xr-var-data-in' type='checkbox'><label for='data-24a955f1-695e-4ba2-9a23-729a4b9c4978' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>vertex number</dd><dt><span>_ChunkSizes :</span></dt><dd>2</dd></dl></div><div class='xr-var-data'><pre>array([1., 2.])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>time</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>datetime64[ns]</div><div class='xr-var-preview xr-preview'>1993-01-16T12:00:00 ... 2019-12-...</div><input id='attrs-fd724b1c-a880-4040-b945-ddc6a68ae796' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-fd724b1c-a880-4040-b945-ddc6a68ae796' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-1cf153ec-028c-45be-9708-685a74a282c4' class='xr-var-data-in' type='checkbox'><label for='data-1cf153ec-028c-45be-9708-685a74a282c4' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>time</dd><dt><span>axis :</span></dt><dd>T</dd><dt><span>calendar_type :</span></dt><dd>GREGORIAN</dd><dt><span>bounds :</span></dt><dd>time_bnds</dd><dt><span>cell_methods :</span></dt><dd>time: mean</dd><dt><span>_ChunkSizes :</span></dt><dd>100</dd></dl></div><div class='xr-var-data'><pre>array([&#x27;1993-01-16T12:00:00.000000000&#x27;, &#x27;1993-02-15T00:00:00.000000000&#x27;,
       &#x27;1993-03-16T12:00:00.000000000&#x27;, ..., &#x27;2019-10-16T12:00:00.000000000&#x27;,
       &#x27;2019-11-16T00:00:00.000000000&#x27;, &#x27;2019-12-16T12:00:00.000000000&#x27;],
      shape=(324,), dtype=&#x27;datetime64[ns]&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>xh</span></div><div class='xr-var-dims'>(xh)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>-98.0 -97.92 ... -36.16 -36.08</div><input id='attrs-b620969e-a16b-46d5-a0ae-3605145fa48a' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-b620969e-a16b-46d5-a0ae-3605145fa48a' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-2ef4f41e-3a6f-4436-a2f9-a84cac38246a' class='xr-var-data-in' type='checkbox'><label for='data-2ef4f41e-3a6f-4436-a2f9-a84cac38246a' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>degrees_east</dd><dt><span>long_name :</span></dt><dd>h point nominal longitude</dd><dt><span>axis :</span></dt><dd>X</dd><dt><span>_ChunkSizes :</span></dt><dd>200</dd></dl></div><div class='xr-var-data'><pre>array([-98.      , -97.920013, -97.839996, ..., -36.23999 , -36.160004,
       -36.079987], shape=(775,))</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>yh</span></div><div class='xr-var-dims'>(yh)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>5.273 5.352 5.432 ... 51.91 51.93</div><input id='attrs-8b434f8e-7431-4ae1-baf8-42bf365a9c00' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-8b434f8e-7431-4ae1-baf8-42bf365a9c00' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-9eb4b07d-bc9f-45c9-a0c9-15ab5aa7966c' class='xr-var-data-in' type='checkbox'><label for='data-9eb4b07d-bc9f-45c9-a0c9-15ab5aa7966c' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>degrees_north</dd><dt><span>long_name :</span></dt><dd>h point nominal latitude</dd><dt><span>axis :</span></dt><dd>Y</dd><dt><span>_ChunkSizes :</span></dt><dd>200</dd></dl></div><div class='xr-var-data'><pre>array([ 5.272542,  5.352199,  5.431845, ..., 51.895451, 51.914215, 51.932964],
      shape=(845,))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-8902f033-9d3f-42a7-a615-6f78c8c91ada' class='xr-section-summary-in' type='checkbox'  checked><label for='section-8902f033-9d3f-42a7-a615-6f78c8c91ada' class='xr-section-summary' >Data variables: <span>(5)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span>average_DT</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>timedelta64[ns]</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(324,), meta=np.ndarray&gt;</div><input id='attrs-356d3b19-dba6-46ab-9515-90700b0d466c' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-356d3b19-dba6-46ab-9515-90700b0d466c' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-03325fe3-e8c8-4700-b122-39bd85e77cbc' class='xr-var-data-in' type='checkbox'><label for='data-03325fe3-e8c8-4700-b122-39bd85e77cbc' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>Length of average period</dd><dt><span>cell_methods :</span></dt><dd>time: mean</dd><dt><span>_ChunkSizes :</span></dt><dd>100</dd></dl></div><div class='xr-var-data'><table>
    <tr>
        <td>
            <table style="border-collapse: collapse;">
                <thead>
                    <tr>
                        <td> </td>
                        <th> Array </th>
                        <th> Chunk </th>
                    </tr>
                </thead>
                <tbody>
                    
                    <tr>
                        <th> Bytes </th>
                        <td> 2.53 kiB </td>
                        <td> 2.53 kiB </td>
                    </tr>
                    
                    <tr>
                        <th> Shape </th>
                        <td> (324,) </td>
                        <td> (324,) </td>
                    </tr>
                    <tr>
                        <th> Dask graph </th>
                        <td colspan="2"> 1 chunks in 2 graph layers </td>
                    </tr>
                    <tr>
                        <th> Data type </th>
                        <td colspan="2"> timedelta64[ns] numpy.ndarray </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td>
        <svg width="170" height="75" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="0" y1="0" x2="120" y2="0" style="stroke-width:2" />
  <line x1="0" y1="25" x2="120" y2="25" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="0" y1="0" x2="0" y2="25" style="stroke-width:2" />
  <line x1="120" y1="0" x2="120" y2="25" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="0.0,0.0 120.0,0.0 120.0,25.412616514582485 0.0,25.412616514582485" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="60.000000" y="45.412617" font-size="1.0rem" font-weight="100" text-anchor="middle" >324</text>
  <text x="140.000000" y="12.706308" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,140.000000,12.706308)">1</text>
</svg>
        </td>
    </tr>
</table></div></li><li class='xr-var-item'><div class='xr-var-name'><span>average_T1</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>datetime64[ns]</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(324,), meta=np.ndarray&gt;</div><input id='attrs-885f8625-509d-4662-ae7f-d46b466a6b84' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-885f8625-509d-4662-ae7f-d46b466a6b84' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-6d3ec3e4-7872-44d8-a6f3-afe446505522' class='xr-var-data-in' type='checkbox'><label for='data-6d3ec3e4-7872-44d8-a6f3-afe446505522' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>Start time for average period</dd><dt><span>cell_methods :</span></dt><dd>time: mean</dd><dt><span>_ChunkSizes :</span></dt><dd>100</dd></dl></div><div class='xr-var-data'><table>
    <tr>
        <td>
            <table style="border-collapse: collapse;">
                <thead>
                    <tr>
                        <td> </td>
                        <th> Array </th>
                        <th> Chunk </th>
                    </tr>
                </thead>
                <tbody>
                    
                    <tr>
                        <th> Bytes </th>
                        <td> 2.53 kiB </td>
                        <td> 2.53 kiB </td>
                    </tr>
                    
                    <tr>
                        <th> Shape </th>
                        <td> (324,) </td>
                        <td> (324,) </td>
                    </tr>
                    <tr>
                        <th> Dask graph </th>
                        <td colspan="2"> 1 chunks in 2 graph layers </td>
                    </tr>
                    <tr>
                        <th> Data type </th>
                        <td colspan="2"> datetime64[ns] numpy.ndarray </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td>
        <svg width="170" height="75" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="0" y1="0" x2="120" y2="0" style="stroke-width:2" />
  <line x1="0" y1="25" x2="120" y2="25" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="0" y1="0" x2="0" y2="25" style="stroke-width:2" />
  <line x1="120" y1="0" x2="120" y2="25" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="0.0,0.0 120.0,0.0 120.0,25.412616514582485 0.0,25.412616514582485" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="60.000000" y="45.412617" font-size="1.0rem" font-weight="100" text-anchor="middle" >324</text>
  <text x="140.000000" y="12.706308" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,140.000000,12.706308)">1</text>
</svg>
        </td>
    </tr>
</table></div></li><li class='xr-var-item'><div class='xr-var-name'><span>average_T2</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>datetime64[ns]</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(324,), meta=np.ndarray&gt;</div><input id='attrs-a83aa142-25f3-466a-825f-448c36705b98' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-a83aa142-25f3-466a-825f-448c36705b98' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-9076b23d-c566-4d5a-8805-caba2db45b63' class='xr-var-data-in' type='checkbox'><label for='data-9076b23d-c566-4d5a-8805-caba2db45b63' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>End time for average period</dd><dt><span>cell_methods :</span></dt><dd>time: mean</dd><dt><span>_ChunkSizes :</span></dt><dd>100</dd></dl></div><div class='xr-var-data'><table>
    <tr>
        <td>
            <table style="border-collapse: collapse;">
                <thead>
                    <tr>
                        <td> </td>
                        <th> Array </th>
                        <th> Chunk </th>
                    </tr>
                </thead>
                <tbody>
                    
                    <tr>
                        <th> Bytes </th>
                        <td> 2.53 kiB </td>
                        <td> 2.53 kiB </td>
                    </tr>
                    
                    <tr>
                        <th> Shape </th>
                        <td> (324,) </td>
                        <td> (324,) </td>
                    </tr>
                    <tr>
                        <th> Dask graph </th>
                        <td colspan="2"> 1 chunks in 2 graph layers </td>
                    </tr>
                    <tr>
                        <th> Data type </th>
                        <td colspan="2"> datetime64[ns] numpy.ndarray </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td>
        <svg width="170" height="75" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="0" y1="0" x2="120" y2="0" style="stroke-width:2" />
  <line x1="0" y1="25" x2="120" y2="25" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="0" y1="0" x2="0" y2="25" style="stroke-width:2" />
  <line x1="120" y1="0" x2="120" y2="25" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="0.0,0.0 120.0,0.0 120.0,25.412616514582485 0.0,25.412616514582485" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="60.000000" y="45.412617" font-size="1.0rem" font-weight="100" text-anchor="middle" >324</text>
  <text x="140.000000" y="12.706308" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,140.000000,12.706308)">1</text>
</svg>
        </td>
    </tr>
</table></div></li><li class='xr-var-item'><div class='xr-var-name'><span>time_bnds</span></div><div class='xr-var-dims'>(time, nv)</div><div class='xr-var-dtype'>datetime64[ns]</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(324, 2), meta=np.ndarray&gt;</div><input id='attrs-534ec6ad-2cbb-4c52-90e2-7d95581605ab' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-534ec6ad-2cbb-4c52-90e2-7d95581605ab' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-fb156ead-8d15-42c0-a10e-3e51c2798937' class='xr-var-data-in' type='checkbox'><label for='data-fb156ead-8d15-42c0-a10e-3e51c2798937' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>time axis boundaries</dd><dt><span>cell_methods :</span></dt><dd>time: mean</dd><dt><span>_ChunkSizes :</span></dt><dd>[100   2]</dd></dl></div><div class='xr-var-data'><table>
    <tr>
        <td>
            <table style="border-collapse: collapse;">
                <thead>
                    <tr>
                        <td> </td>
                        <th> Array </th>
                        <th> Chunk </th>
                    </tr>
                </thead>
                <tbody>
                    
                    <tr>
                        <th> Bytes </th>
                        <td> 5.06 kiB </td>
                        <td> 5.06 kiB </td>
                    </tr>
                    
                    <tr>
                        <th> Shape </th>
                        <td> (324, 2) </td>
                        <td> (324, 2) </td>
                    </tr>
                    <tr>
                        <th> Dask graph </th>
                        <td colspan="2"> 1 chunks in 2 graph layers </td>
                    </tr>
                    <tr>
                        <th> Data type </th>
                        <td colspan="2"> datetime64[ns] numpy.ndarray </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td>
        <svg width="75" height="170" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="0" y1="0" x2="25" y2="0" style="stroke-width:2" />
  <line x1="0" y1="120" x2="25" y2="120" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="0" y1="0" x2="0" y2="120" style="stroke-width:2" />
  <line x1="25" y1="0" x2="25" y2="120" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="0.0,0.0 25.412616514582485,0.0 25.412616514582485,120.0 0.0,120.0" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="12.706308" y="140.000000" font-size="1.0rem" font-weight="100" text-anchor="middle" >2</text>
  <text x="45.412617" y="60.000000" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(-90,45.412617,60.000000)">324</text>
</svg>
        </td>
    </tr>
</table></div></li><li class='xr-var-item'><div class='xr-var-name'><span>tos</span></div><div class='xr-var-dims'>(time, yh, xh)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(324, 845, 775), meta=np.ndarray&gt;</div><input id='attrs-ad18835a-411f-4ba0-acce-7316fcac69a7' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-ad18835a-411f-4ba0-acce-7316fcac69a7' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-ba8151d7-8c1a-4696-a469-0c0d12308677' class='xr-var-data-in' type='checkbox'><label for='data-ba8151d7-8c1a-4696-a469-0c0d12308677' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>degC</dd><dt><span>long_name :</span></dt><dd>Sea Surface Temperature</dd><dt><span>cell_methods :</span></dt><dd>area:mean yh:mean xh:mean time: mean</dd><dt><span>cell_measures :</span></dt><dd>area: areacello</dd><dt><span>time_avg_info :</span></dt><dd>average_T1,average_T2,average_DT</dd><dt><span>standard_name :</span></dt><dd>sea_surface_temperature</dd><dt><span>_ChunkSizes :</span></dt><dd>[100 200 200]</dd></dl></div><div class='xr-var-data'><table>
    <tr>
        <td>
            <table style="border-collapse: collapse;">
                <thead>
                    <tr>
                        <td> </td>
                        <th> Array </th>
                        <th> Chunk </th>
                    </tr>
                </thead>
                <tbody>
                    
                    <tr>
                        <th> Bytes </th>
                        <td> 809.40 MiB </td>
                        <td> 809.40 MiB </td>
                    </tr>
                    
                    <tr>
                        <th> Shape </th>
                        <td> (324, 845, 775) </td>
                        <td> (324, 845, 775) </td>
                    </tr>
                    <tr>
                        <th> Dask graph </th>
                        <td colspan="2"> 1 chunks in 2 graph layers </td>
                    </tr>
                    <tr>
                        <th> Data type </th>
                        <td colspan="2"> float32 numpy.ndarray </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td>
        <svg width="197" height="197" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="10" y1="0" x2="37" y2="27" style="stroke-width:2" />
  <line x1="10" y1="120" x2="37" y2="147" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="10" y1="0" x2="10" y2="120" style="stroke-width:2" />
  <line x1="37" y1="27" x2="37" y2="147" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="10.0,0.0 37.065784893839194,27.065784893839194 37.065784893839194,147.06578489383918 10.0,120.0" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Horizontal lines -->
  <line x1="10" y1="0" x2="120" y2="0" style="stroke-width:2" />
  <line x1="37" y1="27" x2="147" y2="27" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="10" y1="0" x2="37" y2="27" style="stroke-width:2" />
  <line x1="120" y1="0" x2="147" y2="27" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="10.0,0.0 120.05917159763314,0.0 147.12495649147235,27.065784893839194 37.065784893839194,27.065784893839194" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Horizontal lines -->
  <line x1="37" y1="27" x2="147" y2="27" style="stroke-width:2" />
  <line x1="37" y1="147" x2="147" y2="147" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="37" y1="27" x2="37" y2="147" style="stroke-width:2" />
  <line x1="147" y1="27" x2="147" y2="147" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="37.065784893839194,27.065784893839194 147.12495649147235,27.065784893839194 147.12495649147235,147.06578489383918 37.065784893839194,147.06578489383918" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="92.095371" y="167.065785" font-size="1.0rem" font-weight="100" text-anchor="middle" >775</text>
  <text x="167.124956" y="87.065785" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(-90,167.124956,87.065785)">845</text>
  <text x="13.532892" y="153.532892" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(45,13.532892,153.532892)">324</text>
</svg>
        </td>
    </tr>
</table></div></li></ul></div></li><li class='xr-section-item'><input id='section-cb83b22a-197b-4060-a164-ffef679da02d' class='xr-section-summary-in' type='checkbox'  ><label for='section-cb83b22a-197b-4060-a164-ffef679da02d' class='xr-section-summary' >Indexes: <span>(4)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>nv</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-26721e2b-d1db-4336-8334-9ec7cb65c220' class='xr-index-data-in' type='checkbox'/><label for='index-26721e2b-d1db-4336-8334-9ec7cb65c220' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([1.0, 2.0], dtype=&#x27;float64&#x27;, name=&#x27;nv&#x27;))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>time</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-db01491f-d2b9-43ff-a824-d2d79d3913dc' class='xr-index-data-in' type='checkbox'/><label for='index-db01491f-d2b9-43ff-a824-d2d79d3913dc' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(DatetimeIndex([&#x27;1993-01-16 12:00:00&#x27;, &#x27;1993-02-15 00:00:00&#x27;,
               &#x27;1993-03-16 12:00:00&#x27;, &#x27;1993-04-16 00:00:00&#x27;,
               &#x27;1993-05-16 12:00:00&#x27;, &#x27;1993-06-16 00:00:00&#x27;,
               &#x27;1993-07-16 12:00:00&#x27;, &#x27;1993-08-16 12:00:00&#x27;,
               &#x27;1993-09-16 00:00:00&#x27;, &#x27;1993-10-16 12:00:00&#x27;,
               ...
               &#x27;2019-03-16 12:00:00&#x27;, &#x27;2019-04-16 00:00:00&#x27;,
               &#x27;2019-05-16 12:00:00&#x27;, &#x27;2019-06-16 00:00:00&#x27;,
               &#x27;2019-07-16 12:00:00&#x27;, &#x27;2019-08-16 12:00:00&#x27;,
               &#x27;2019-09-16 00:00:00&#x27;, &#x27;2019-10-16 12:00:00&#x27;,
               &#x27;2019-11-16 00:00:00&#x27;, &#x27;2019-12-16 12:00:00&#x27;],
              dtype=&#x27;datetime64[ns]&#x27;, name=&#x27;time&#x27;, length=324, freq=None))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>xh</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-56792dbd-0a4f-456b-b33e-b7ccc09fe60d' class='xr-index-data-in' type='checkbox'/><label for='index-56792dbd-0a4f-456b-b33e-b7ccc09fe60d' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([              -98.0,  -97.92001342773438,  -97.83999633789062,
          -97.760009765625,  -97.67999267578125,  -97.60000610351562,
        -97.51998901367188,  -97.44000244140625,   -97.3599853515625,
        -97.27999877929688,
       ...
        -36.79998779296875, -36.720001220703125,   -36.6400146484375,
        -36.55999755859375, -36.480010986328125, -36.399993896484375,
        -36.32000732421875,    -36.239990234375, -36.160003662109375,
       -36.079986572265625],
      dtype=&#x27;float64&#x27;, name=&#x27;xh&#x27;, length=775))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>yh</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-f65084ed-d7fd-484b-b7c0-5febbc89e84e' class='xr-index-data-in' type='checkbox'/><label for='index-f65084ed-d7fd-484b-b7c0-5febbc89e84e' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([ 5.272542476654053,  5.352199077606201,  5.431845188140869,
        5.511480331420898, 5.5911054611206055,  5.670719146728516,
        5.750322341918945,  5.829914093017578,  5.909494400024414,
        5.989063739776611,
       ...
       51.763702392578125,  51.78256607055664, 51.801414489746094,
        51.82025146484375, 51.839073181152344, 51.857879638671875,
       51.876670837402344, 51.895450592041016, 51.914215087890625,
        51.93296432495117],
      dtype=&#x27;float64&#x27;, name=&#x27;yh&#x27;, length=845))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-130ab722-7d53-408e-bc6e-59c6f891e843' class='xr-section-summary-in' type='checkbox'  ><label for='section-130ab722-7d53-408e-bc6e-59c6f891e843' class='xr-section-summary' >Attributes: <span>(30)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'><dt><span>NumFilesInSet :</span></dt><dd>1</dd><dt><span>title :</span></dt><dd>NWA12_COBALT_2023_04_kpo4-coastatten-physics</dd><dt><span>associated_files :</span></dt><dd>areacello: 19930101.ocean_static.nc</dd><dt><span>grid_type :</span></dt><dd>regular</dd><dt><span>grid_tile :</span></dt><dd>N/A</dd><dt><span>external_variables :</span></dt><dd>areacello</dd><dt><span>NCO :</span></dt><dd>netCDF Operators version 5.0.1 (Homepage = http://nco.sf.net, Code = http://github.com/nco/nco)</dd><dt><span>_NCProperties :</span></dt><dd>version=2,netcdf=4.7.0,hdf5=1.10.5,</dd><dt><span>cefi_rel_path :</span></dt><dd>cefi_portal/northwest_atlantic/full_domain/hindcast/monthly/raw/r20230520</dd><dt><span>cefi_filename :</span></dt><dd>tos.nwa.full.hcast.monthly.raw.r20230520.199301-201912.nc</dd><dt><span>cefi_variable :</span></dt><dd>tos</dd><dt><span>cefi_ori_filename :</span></dt><dd>ocean_monthly.199301-201912.tos.nc</dd><dt><span>cefi_archive_version :</span></dt><dd>/archive/acr/fre/NWA/2023_04/NWA12_COBALT_2023_04_kpo4-coastatten-physics/gfdl.ncrc5-intel22-prod/</dd><dt><span>cefi_run_xml :</span></dt><dd>N/A</dd><dt><span>cefi_region :</span></dt><dd>nwa</dd><dt><span>cefi_subdomain :</span></dt><dd>full</dd><dt><span>cefi_experiment_type :</span></dt><dd>hindcast</dd><dt><span>cefi_experiment_name :</span></dt><dd>nwa12_cobalt</dd><dt><span>cefi_release :</span></dt><dd>r20230520</dd><dt><span>cefi_output_frequency :</span></dt><dd>monthly</dd><dt><span>cefi_grid_type :</span></dt><dd>raw</dd><dt><span>cefi_date_range :</span></dt><dd>199301-201912</dd><dt><span>cefi_init_date :</span></dt><dd>N/A</dd><dt><span>cefi_ensemble_info :</span></dt><dd>N/A</dd><dt><span>cefi_forcing :</span></dt><dd>N/A</dd><dt><span>cefi_data_doi :</span></dt><dd>10.5281/zenodo.7893386</dd><dt><span>cefi_paper_doi :</span></dt><dd>10.5194/gmd-16-6943-2023</dd><dt><span>cefi_aux :</span></dt><dd>N/A</dd><dt><span>cefi_ori_category :</span></dt><dd>ocean_monthly</dd><dt><span>DODS_EXTRA.Unlimited_Dimension :</span></dt><dd>time</dd></dl></div></li></ul></div></div></div></div>
</div>
<div class="info admonition">
<p class="admonition-title">Tip</p>
<p>It is good practice to open files lazily when accessing data from an OPeNDAP server, as each server may have different data query limits. By using lazy loading, we initially load only the data structure and metadata. This allows us to explore the dataset and subset the data more efficiently once we know exactly what we need.</p>
</div>
<p>Since we are doing the regridding, we only need a single time snapshot of <code class="docutils literal notranslate"><span class="pre">tos</span></code> map. Now we use the <code class="docutils literal notranslate"><span class="pre">.load()</span></code> method to grab the data from the OPeNDAP server to the local memory.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ds_subset</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">time</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">load</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ds_subset</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewBox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewBox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(
    --jp-content-font-color0,
    var(--pst-color-text-base rgba(0, 0, 0, 1))
  );
  --xr-font-color2: var(
    --jp-content-font-color2,
    var(--pst-color-text-base, rgba(0, 0, 0, 0.54))
  );
  --xr-font-color3: var(
    --jp-content-font-color3,
    var(--pst-color-text-base, rgba(0, 0, 0, 0.38))
  );
  --xr-border-color: var(
    --jp-border-color2,
    hsl(from var(--pst-color-on-background, white) h s calc(l - 10))
  );
  --xr-disabled-color: var(
    --jp-layout-color3,
    hsl(from var(--pst-color-on-background, white) h s calc(l - 40))
  );
  --xr-background-color: var(
    --jp-layout-color0,
    var(--pst-color-on-background, white)
  );
  --xr-background-color-row-even: var(
    --jp-layout-color1,
    hsl(from var(--pst-color-on-background, white) h s calc(l - 5))
  );
  --xr-background-color-row-odd: var(
    --jp-layout-color2,
    hsl(from var(--pst-color-on-background, white) h s calc(l - 15))
  );
}

html[theme="dark"],
html[data-theme="dark"],
body[data-theme="dark"],
body.vscode-dark {
  --xr-font-color0: var(
    --jp-content-font-color0,
    var(--pst-color-text-base, rgba(255, 255, 255, 1))
  );
  --xr-font-color2: var(
    --jp-content-font-color2,
    var(--pst-color-text-base, rgba(255, 255, 255, 0.54))
  );
  --xr-font-color3: var(
    --jp-content-font-color3,
    var(--pst-color-text-base, rgba(255, 255, 255, 0.38))
  );
  --xr-border-color: var(
    --jp-border-color2,
    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 10))
  );
  --xr-disabled-color: var(
    --jp-layout-color3,
    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 40))
  );
  --xr-background-color: var(
    --jp-layout-color0,
    var(--pst-color-on-background, #111111)
  );
  --xr-background-color-row-even: var(
    --jp-layout-color1,
    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 5))
  );
  --xr-background-color-row-odd: var(
    --jp-layout-color2,
    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 15))
  );
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: inline-block;
  opacity: 0;
  height: 0;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
  border: 2px solid transparent !important;
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:focus + label {
  border: 2px solid var(--xr-font-color0) !important;
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: "►";
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: "▼";
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: "(";
}

.xr-dim-list:after {
  content: ")";
}

.xr-dim-list li:not(:last-child):after {
  content: ",";
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  border-color: var(--xr-background-color-row-odd);
  margin-bottom: 0;
  padding-top: 2px;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
  border-color: var(--xr-background-color-row-even);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-index-preview {
  grid-column: 2 / 5;
  color: var(--xr-font-color2);
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  display: none;
  border-top: 2px dotted var(--xr-background-color);
  padding-bottom: 20px !important;
  padding-top: 10px !important;
}

.xr-var-attrs-in + label,
.xr-var-data-in + label,
.xr-index-data-in + label {
  padding: 0 1px;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data,
.xr-index-data-in:checked ~ .xr-index-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-data > pre,
.xr-index-data > pre,
.xr-var-data > table > tbody > tr {
  background-color: transparent !important;
}

.xr-var-name span,
.xr-var-data,
.xr-index-name div,
.xr-index-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2,
.xr-no-icon {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}

.xr-var-attrs-in:checked + label > .xr-icon-file-text2,
.xr-var-data-in:checked + label > .xr-icon-database,
.xr-index-data-in:checked + label > .xr-icon-database {
  color: var(--xr-font-color0);
  filter: drop-shadow(1px 1px 5px var(--xr-font-color2));
  stroke-width: 0.8px;
}
</style><pre class='xr-text-repr-fallback'>&lt;xarray.Dataset&gt; Size: 3MB
Dimensions:     (nv: 2, yh: 845, xh: 775)
Coordinates:
  * nv          (nv) float64 16B 1.0 2.0
    time        datetime64[ns] 8B 1993-01-16T12:00:00
  * xh          (xh) float64 6kB -98.0 -97.92 -97.84 ... -36.24 -36.16 -36.08
  * yh          (yh) float64 7kB 5.273 5.352 5.432 5.511 ... 51.9 51.91 51.93
Data variables:
    average_DT  timedelta64[ns] 8B 31 days
    average_T1  datetime64[ns] 8B 1993-01-01
    average_T2  datetime64[ns] 8B 1993-02-01
    time_bnds   (nv) datetime64[ns] 16B 1993-01-01 1993-02-01
    tos         (yh, xh) float32 3MB nan nan nan nan ... 3.805 3.79 3.79 3.786
Attributes: (12/30)
    NumFilesInSet:                   1
    title:                           NWA12_COBALT_2023_04_kpo4-coastatten-phy...
    associated_files:                areacello: 19930101.ocean_static.nc
    grid_type:                       regular
    grid_tile:                       N/A
    external_variables:              areacello
    ...                              ...
    cefi_forcing:                    N/A
    cefi_data_doi:                   10.5281/zenodo.7893386
    cefi_paper_doi:                  10.5194/gmd-16-6943-2023
    cefi_aux:                        N/A
    cefi_ori_category:               ocean_monthly
    DODS_EXTRA.Unlimited_Dimension:  time</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.Dataset</div></div><ul class='xr-sections'><li class='xr-section-item'><input id='section-63fadbe5-dd94-4454-8673-e1d51ad94755' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-63fadbe5-dd94-4454-8673-e1d51ad94755' class='xr-section-summary'  title='Expand/collapse section'>Dimensions:</label><div class='xr-section-inline-details'><ul class='xr-dim-list'><li><span class='xr-has-index'>nv</span>: 2</li><li><span class='xr-has-index'>yh</span>: 845</li><li><span class='xr-has-index'>xh</span>: 775</li></ul></div><div class='xr-section-details'></div></li><li class='xr-section-item'><input id='section-86423c8d-ba5a-416d-9af5-3787c81745bc' class='xr-section-summary-in' type='checkbox'  checked><label for='section-86423c8d-ba5a-416d-9af5-3787c81745bc' class='xr-section-summary' >Coordinates: <span>(4)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>nv</span></div><div class='xr-var-dims'>(nv)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>1.0 2.0</div><input id='attrs-4cb15b3d-9175-45ed-8e7c-cd8deb9c5996' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-4cb15b3d-9175-45ed-8e7c-cd8deb9c5996' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-551e25ee-1dc4-4db9-984e-f6b866088e7c' class='xr-var-data-in' type='checkbox'><label for='data-551e25ee-1dc4-4db9-984e-f6b866088e7c' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>vertex number</dd><dt><span>_ChunkSizes :</span></dt><dd>2</dd></dl></div><div class='xr-var-data'><pre>array([1., 2.])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>time</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>datetime64[ns]</div><div class='xr-var-preview xr-preview'>1993-01-16T12:00:00</div><input id='attrs-c4d83572-357d-424b-9aa6-156e2d8f95d7' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-c4d83572-357d-424b-9aa6-156e2d8f95d7' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-028e65a2-a396-45db-9fe1-d91841af502f' class='xr-var-data-in' type='checkbox'><label for='data-028e65a2-a396-45db-9fe1-d91841af502f' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>time</dd><dt><span>axis :</span></dt><dd>T</dd><dt><span>calendar_type :</span></dt><dd>GREGORIAN</dd><dt><span>bounds :</span></dt><dd>time_bnds</dd><dt><span>cell_methods :</span></dt><dd>time: mean</dd><dt><span>_ChunkSizes :</span></dt><dd>100</dd></dl></div><div class='xr-var-data'><pre>array(&#x27;1993-01-16T12:00:00.000000000&#x27;, dtype=&#x27;datetime64[ns]&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>xh</span></div><div class='xr-var-dims'>(xh)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>-98.0 -97.92 ... -36.16 -36.08</div><input id='attrs-fb050080-c9a8-4a42-8725-ef91019baa85' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-fb050080-c9a8-4a42-8725-ef91019baa85' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-80cd8bd6-686c-4675-9f53-851ddc7cc8aa' class='xr-var-data-in' type='checkbox'><label for='data-80cd8bd6-686c-4675-9f53-851ddc7cc8aa' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>degrees_east</dd><dt><span>long_name :</span></dt><dd>h point nominal longitude</dd><dt><span>axis :</span></dt><dd>X</dd><dt><span>_ChunkSizes :</span></dt><dd>200</dd></dl></div><div class='xr-var-data'><pre>array([-98.      , -97.920013, -97.839996, ..., -36.23999 , -36.160004,
       -36.079987], shape=(775,))</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>yh</span></div><div class='xr-var-dims'>(yh)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>5.273 5.352 5.432 ... 51.91 51.93</div><input id='attrs-dbaaa8be-a615-45ce-bd70-f3678dccc872' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-dbaaa8be-a615-45ce-bd70-f3678dccc872' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-ae2d17cc-b6ab-41b7-ad2c-30e6574eaa0a' class='xr-var-data-in' type='checkbox'><label for='data-ae2d17cc-b6ab-41b7-ad2c-30e6574eaa0a' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>degrees_north</dd><dt><span>long_name :</span></dt><dd>h point nominal latitude</dd><dt><span>axis :</span></dt><dd>Y</dd><dt><span>_ChunkSizes :</span></dt><dd>200</dd></dl></div><div class='xr-var-data'><pre>array([ 5.272542,  5.352199,  5.431845, ..., 51.895451, 51.914215, 51.932964],
      shape=(845,))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-1752b110-705a-4482-b90b-740624477c0d' class='xr-section-summary-in' type='checkbox'  checked><label for='section-1752b110-705a-4482-b90b-740624477c0d' class='xr-section-summary' >Data variables: <span>(5)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span>average_DT</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>timedelta64[ns]</div><div class='xr-var-preview xr-preview'>31 days</div><input id='attrs-27ac85dc-50d9-45f6-984f-68c4057d1853' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-27ac85dc-50d9-45f6-984f-68c4057d1853' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-97b87839-b6c5-43a4-a7c7-baea2b0e91af' class='xr-var-data-in' type='checkbox'><label for='data-97b87839-b6c5-43a4-a7c7-baea2b0e91af' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>Length of average period</dd><dt><span>cell_methods :</span></dt><dd>time: mean</dd><dt><span>_ChunkSizes :</span></dt><dd>100</dd></dl></div><div class='xr-var-data'><pre>array(2678400000000000, dtype=&#x27;timedelta64[ns]&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>average_T1</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>datetime64[ns]</div><div class='xr-var-preview xr-preview'>1993-01-01</div><input id='attrs-43884210-342b-483b-ab60-4a27d96af20c' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-43884210-342b-483b-ab60-4a27d96af20c' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-6d8639f0-0252-40d6-8d61-a807d8162459' class='xr-var-data-in' type='checkbox'><label for='data-6d8639f0-0252-40d6-8d61-a807d8162459' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>Start time for average period</dd><dt><span>cell_methods :</span></dt><dd>time: mean</dd><dt><span>_ChunkSizes :</span></dt><dd>100</dd></dl></div><div class='xr-var-data'><pre>array(&#x27;1993-01-01T00:00:00.000000000&#x27;, dtype=&#x27;datetime64[ns]&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>average_T2</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>datetime64[ns]</div><div class='xr-var-preview xr-preview'>1993-02-01</div><input id='attrs-e8bcb60f-37a1-4b0b-8381-8d11165ecb73' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-e8bcb60f-37a1-4b0b-8381-8d11165ecb73' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-8bf398b0-d1e5-4bee-a979-7a9f02f9c0f6' class='xr-var-data-in' type='checkbox'><label for='data-8bf398b0-d1e5-4bee-a979-7a9f02f9c0f6' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>End time for average period</dd><dt><span>cell_methods :</span></dt><dd>time: mean</dd><dt><span>_ChunkSizes :</span></dt><dd>100</dd></dl></div><div class='xr-var-data'><pre>array(&#x27;1993-02-01T00:00:00.000000000&#x27;, dtype=&#x27;datetime64[ns]&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>time_bnds</span></div><div class='xr-var-dims'>(nv)</div><div class='xr-var-dtype'>datetime64[ns]</div><div class='xr-var-preview xr-preview'>1993-01-01 1993-02-01</div><input id='attrs-7630bdbe-9516-45ba-b5fa-ae33f2e97453' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-7630bdbe-9516-45ba-b5fa-ae33f2e97453' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-a24aa363-f9c2-4385-bedc-02f4530601be' class='xr-var-data-in' type='checkbox'><label for='data-a24aa363-f9c2-4385-bedc-02f4530601be' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>time axis boundaries</dd><dt><span>cell_methods :</span></dt><dd>time: mean</dd><dt><span>_ChunkSizes :</span></dt><dd>[100   2]</dd></dl></div><div class='xr-var-data'><pre>array([&#x27;1993-01-01T00:00:00.000000000&#x27;, &#x27;1993-02-01T00:00:00.000000000&#x27;],
      dtype=&#x27;datetime64[ns]&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>tos</span></div><div class='xr-var-dims'>(yh, xh)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>nan nan nan nan ... 3.79 3.79 3.786</div><input id='attrs-4bb65ba4-80a3-4a06-b68b-017511a2627e' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-4bb65ba4-80a3-4a06-b68b-017511a2627e' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-cf352986-6552-4b25-ac9f-87121c6b0b58' class='xr-var-data-in' type='checkbox'><label for='data-cf352986-6552-4b25-ac9f-87121c6b0b58' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>degC</dd><dt><span>long_name :</span></dt><dd>Sea Surface Temperature</dd><dt><span>cell_methods :</span></dt><dd>area:mean yh:mean xh:mean time: mean</dd><dt><span>cell_measures :</span></dt><dd>area: areacello</dd><dt><span>time_avg_info :</span></dt><dd>average_T1,average_T2,average_DT</dd><dt><span>standard_name :</span></dt><dd>sea_surface_temperature</dd><dt><span>_ChunkSizes :</span></dt><dd>[100 200 200]</dd></dl></div><div class='xr-var-data'><pre>array([[       nan,        nan,        nan, ..., 26.835112 , 26.83088  ,
        26.829275 ],
       [       nan,        nan,        nan, ..., 26.837057 , 26.832767 ,
        26.82821  ],
       [       nan,        nan,        nan, ..., 26.838667 , 26.83434  ,
        26.829744 ],
       ...,
       [       nan,        nan,        nan, ...,  3.7884705,  3.8061604,
         3.848023 ],
       [       nan,        nan,        nan, ...,  3.7894833,  3.7893488,
         3.8062372],
       [       nan,        nan,        nan, ...,  3.7899086,  3.7899795,
         3.7860045]], shape=(845, 775), dtype=float32)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-188660e5-56a7-429d-a3c2-58107fb549c3' class='xr-section-summary-in' type='checkbox'  ><label for='section-188660e5-56a7-429d-a3c2-58107fb549c3' class='xr-section-summary' >Indexes: <span>(3)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>nv</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-032d7955-7741-41ba-a3ed-38443220d688' class='xr-index-data-in' type='checkbox'/><label for='index-032d7955-7741-41ba-a3ed-38443220d688' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([1.0, 2.0], dtype=&#x27;float64&#x27;, name=&#x27;nv&#x27;))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>xh</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-c4a8eabb-d2bb-4dd4-b330-5874638668cb' class='xr-index-data-in' type='checkbox'/><label for='index-c4a8eabb-d2bb-4dd4-b330-5874638668cb' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([              -98.0,  -97.92001342773438,  -97.83999633789062,
          -97.760009765625,  -97.67999267578125,  -97.60000610351562,
        -97.51998901367188,  -97.44000244140625,   -97.3599853515625,
        -97.27999877929688,
       ...
        -36.79998779296875, -36.720001220703125,   -36.6400146484375,
        -36.55999755859375, -36.480010986328125, -36.399993896484375,
        -36.32000732421875,    -36.239990234375, -36.160003662109375,
       -36.079986572265625],
      dtype=&#x27;float64&#x27;, name=&#x27;xh&#x27;, length=775))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>yh</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-ae482baa-1b3e-4f08-a8ae-62b2eb3694bb' class='xr-index-data-in' type='checkbox'/><label for='index-ae482baa-1b3e-4f08-a8ae-62b2eb3694bb' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([ 5.272542476654053,  5.352199077606201,  5.431845188140869,
        5.511480331420898, 5.5911054611206055,  5.670719146728516,
        5.750322341918945,  5.829914093017578,  5.909494400024414,
        5.989063739776611,
       ...
       51.763702392578125,  51.78256607055664, 51.801414489746094,
        51.82025146484375, 51.839073181152344, 51.857879638671875,
       51.876670837402344, 51.895450592041016, 51.914215087890625,
        51.93296432495117],
      dtype=&#x27;float64&#x27;, name=&#x27;yh&#x27;, length=845))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-e8b3f33d-75bc-4f4f-b956-4034f3b28d3b' class='xr-section-summary-in' type='checkbox'  ><label for='section-e8b3f33d-75bc-4f4f-b956-4034f3b28d3b' class='xr-section-summary' >Attributes: <span>(30)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'><dt><span>NumFilesInSet :</span></dt><dd>1</dd><dt><span>title :</span></dt><dd>NWA12_COBALT_2023_04_kpo4-coastatten-physics</dd><dt><span>associated_files :</span></dt><dd>areacello: 19930101.ocean_static.nc</dd><dt><span>grid_type :</span></dt><dd>regular</dd><dt><span>grid_tile :</span></dt><dd>N/A</dd><dt><span>external_variables :</span></dt><dd>areacello</dd><dt><span>NCO :</span></dt><dd>netCDF Operators version 5.0.1 (Homepage = http://nco.sf.net, Code = http://github.com/nco/nco)</dd><dt><span>_NCProperties :</span></dt><dd>version=2,netcdf=4.7.0,hdf5=1.10.5,</dd><dt><span>cefi_rel_path :</span></dt><dd>cefi_portal/northwest_atlantic/full_domain/hindcast/monthly/raw/r20230520</dd><dt><span>cefi_filename :</span></dt><dd>tos.nwa.full.hcast.monthly.raw.r20230520.199301-201912.nc</dd><dt><span>cefi_variable :</span></dt><dd>tos</dd><dt><span>cefi_ori_filename :</span></dt><dd>ocean_monthly.199301-201912.tos.nc</dd><dt><span>cefi_archive_version :</span></dt><dd>/archive/acr/fre/NWA/2023_04/NWA12_COBALT_2023_04_kpo4-coastatten-physics/gfdl.ncrc5-intel22-prod/</dd><dt><span>cefi_run_xml :</span></dt><dd>N/A</dd><dt><span>cefi_region :</span></dt><dd>nwa</dd><dt><span>cefi_subdomain :</span></dt><dd>full</dd><dt><span>cefi_experiment_type :</span></dt><dd>hindcast</dd><dt><span>cefi_experiment_name :</span></dt><dd>nwa12_cobalt</dd><dt><span>cefi_release :</span></dt><dd>r20230520</dd><dt><span>cefi_output_frequency :</span></dt><dd>monthly</dd><dt><span>cefi_grid_type :</span></dt><dd>raw</dd><dt><span>cefi_date_range :</span></dt><dd>199301-201912</dd><dt><span>cefi_init_date :</span></dt><dd>N/A</dd><dt><span>cefi_ensemble_info :</span></dt><dd>N/A</dd><dt><span>cefi_forcing :</span></dt><dd>N/A</dd><dt><span>cefi_data_doi :</span></dt><dd>10.5281/zenodo.7893386</dd><dt><span>cefi_paper_doi :</span></dt><dd>10.5194/gmd-16-6943-2023</dd><dt><span>cefi_aux :</span></dt><dd>N/A</dd><dt><span>cefi_ori_category :</span></dt><dd>ocean_monthly</dd><dt><span>DODS_EXTRA.Unlimited_Dimension :</span></dt><dd>time</dd></dl></div></li></ul></div></div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ds_subset</span><span class="p">[</span><span class="s1">&#39;tos&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.collections.QuadMesh at 0x7fc56c5ff910&gt;
</pre></div>
</div>
<img alt="../../_images/0a17019069cd4644f2355661aa8b32bc700ef90e94811172c231493963fb09cd.png" src="../../_images/0a17019069cd4644f2355661aa8b32bc700ef90e94811172c231493963fb09cd.png" />
</div>
</div>
<p>As mentioned earlier, raw grid data requires grid information provided by the model. To obtain this, we need the static file, which can be accessed using the same steps used to retrieve the variable file. The static file is typically located in the same folder, URL, or catalog as the raw data. Therefore, we can reuse the same <code class="docutils literal notranslate"><span class="pre">cefi_data_access</span></code> object created earlier for the variable field, and simply pass <code class="docutils literal notranslate"><span class="pre">variable=&quot;ocean_static&quot;</span></code> to the <code class="docutils literal notranslate"><span class="pre">.get()</span></code> method.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">static_urls</span> <span class="o">=</span> <span class="n">cefi_data_access</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">variable</span><span class="o">=</span><span class="s2">&quot;ocean_static&quot;</span><span class="p">,</span><span class="n">print_list</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>--------- All available files ------------
https://psl.noaa.gov/thredds/dodsC/Projects/CEFI/regional_mom6/cefi_portal/northwest_atlantic/full_domain/hindcast/monthly/raw/r20230520/ocean_static.nc
</pre></div>
</div>
</div>
</div>
<p>Here, we only want to retain the necessary information from the static file, which contains many additional grid variables. In this case, we need the tracer point longitude and latitude, located on the <code class="docutils literal notranslate"><span class="pre">xh</span></code> and <code class="docutils literal notranslate"><span class="pre">yh</span></code> grid coordinates, and stored under the variable names <code class="docutils literal notranslate"><span class="pre">geolon</span></code> and <code class="docutils literal notranslate"><span class="pre">geolat</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ds_static</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">open_dataset</span><span class="p">(</span><span class="n">static_urls</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">chunks</span><span class="o">=</span><span class="p">{})</span>
<span class="n">ds_static</span> <span class="o">=</span> <span class="n">ds_static</span><span class="p">[[</span><span class="s1">&#39;geolon&#39;</span><span class="p">,</span> <span class="s1">&#39;geolat&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">load</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ds_static</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewBox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewBox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(
    --jp-content-font-color0,
    var(--pst-color-text-base rgba(0, 0, 0, 1))
  );
  --xr-font-color2: var(
    --jp-content-font-color2,
    var(--pst-color-text-base, rgba(0, 0, 0, 0.54))
  );
  --xr-font-color3: var(
    --jp-content-font-color3,
    var(--pst-color-text-base, rgba(0, 0, 0, 0.38))
  );
  --xr-border-color: var(
    --jp-border-color2,
    hsl(from var(--pst-color-on-background, white) h s calc(l - 10))
  );
  --xr-disabled-color: var(
    --jp-layout-color3,
    hsl(from var(--pst-color-on-background, white) h s calc(l - 40))
  );
  --xr-background-color: var(
    --jp-layout-color0,
    var(--pst-color-on-background, white)
  );
  --xr-background-color-row-even: var(
    --jp-layout-color1,
    hsl(from var(--pst-color-on-background, white) h s calc(l - 5))
  );
  --xr-background-color-row-odd: var(
    --jp-layout-color2,
    hsl(from var(--pst-color-on-background, white) h s calc(l - 15))
  );
}

html[theme="dark"],
html[data-theme="dark"],
body[data-theme="dark"],
body.vscode-dark {
  --xr-font-color0: var(
    --jp-content-font-color0,
    var(--pst-color-text-base, rgba(255, 255, 255, 1))
  );
  --xr-font-color2: var(
    --jp-content-font-color2,
    var(--pst-color-text-base, rgba(255, 255, 255, 0.54))
  );
  --xr-font-color3: var(
    --jp-content-font-color3,
    var(--pst-color-text-base, rgba(255, 255, 255, 0.38))
  );
  --xr-border-color: var(
    --jp-border-color2,
    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 10))
  );
  --xr-disabled-color: var(
    --jp-layout-color3,
    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 40))
  );
  --xr-background-color: var(
    --jp-layout-color0,
    var(--pst-color-on-background, #111111)
  );
  --xr-background-color-row-even: var(
    --jp-layout-color1,
    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 5))
  );
  --xr-background-color-row-odd: var(
    --jp-layout-color2,
    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 15))
  );
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: inline-block;
  opacity: 0;
  height: 0;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
  border: 2px solid transparent !important;
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:focus + label {
  border: 2px solid var(--xr-font-color0) !important;
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: "►";
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: "▼";
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: "(";
}

.xr-dim-list:after {
  content: ")";
}

.xr-dim-list li:not(:last-child):after {
  content: ",";
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  border-color: var(--xr-background-color-row-odd);
  margin-bottom: 0;
  padding-top: 2px;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
  border-color: var(--xr-background-color-row-even);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-index-preview {
  grid-column: 2 / 5;
  color: var(--xr-font-color2);
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  display: none;
  border-top: 2px dotted var(--xr-background-color);
  padding-bottom: 20px !important;
  padding-top: 10px !important;
}

.xr-var-attrs-in + label,
.xr-var-data-in + label,
.xr-index-data-in + label {
  padding: 0 1px;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data,
.xr-index-data-in:checked ~ .xr-index-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-data > pre,
.xr-index-data > pre,
.xr-var-data > table > tbody > tr {
  background-color: transparent !important;
}

.xr-var-name span,
.xr-var-data,
.xr-index-name div,
.xr-index-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2,
.xr-no-icon {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}

.xr-var-attrs-in:checked + label > .xr-icon-file-text2,
.xr-var-data-in:checked + label > .xr-icon-database,
.xr-index-data-in:checked + label > .xr-icon-database {
  color: var(--xr-font-color0);
  filter: drop-shadow(1px 1px 5px var(--xr-font-color2));
  stroke-width: 0.8px;
}
</style><pre class='xr-text-repr-fallback'>&lt;xarray.Dataset&gt; Size: 5MB
Dimensions:  (yh: 845, xh: 775)
Coordinates:
  * xh       (xh) float64 6kB -98.0 -97.92 -97.84 ... -36.24 -36.16 -36.08
  * yh       (yh) float64 7kB 5.273 5.352 5.432 5.511 ... 51.88 51.9 51.91 51.93
Data variables:
    geolon   (yh, xh) float32 3MB -98.0 -97.92 -97.84 ... -37.36 -37.27 -37.19
    geolat   (yh, xh) float32 3MB 5.273 5.273 5.273 5.273 ... 58.15 58.16 58.16
Attributes:
    _NCProperties:                   version=2,netcdf=4.9.0,hdf5=1.12.2
    NumFilesInSet:                   1
    title:                           NWA12_MOM6_v1.0
    grid_type:                       regular
    grid_tile:                       N/A
    history:                         Fri May 12 10:50:21 2023: ncks -4 -L 3 o...
    NCO:                             netCDF Operators version 5.0.1 (Homepage...
    DODS_EXTRA.Unlimited_Dimension:  time</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.Dataset</div></div><ul class='xr-sections'><li class='xr-section-item'><input id='section-c77828fc-ff24-4b48-bf7d-c72f417ac3be' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-c77828fc-ff24-4b48-bf7d-c72f417ac3be' class='xr-section-summary'  title='Expand/collapse section'>Dimensions:</label><div class='xr-section-inline-details'><ul class='xr-dim-list'><li><span class='xr-has-index'>yh</span>: 845</li><li><span class='xr-has-index'>xh</span>: 775</li></ul></div><div class='xr-section-details'></div></li><li class='xr-section-item'><input id='section-c3dd65ce-24a5-4e06-94fb-d70479bc0b3f' class='xr-section-summary-in' type='checkbox'  checked><label for='section-c3dd65ce-24a5-4e06-94fb-d70479bc0b3f' class='xr-section-summary' >Coordinates: <span>(2)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>xh</span></div><div class='xr-var-dims'>(xh)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>-98.0 -97.92 ... -36.16 -36.08</div><input id='attrs-b3a503d7-ff52-470a-b5b2-c2335ed78be8' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-b3a503d7-ff52-470a-b5b2-c2335ed78be8' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-c56111e1-6eeb-4d38-9ba0-cd02fa967285' class='xr-var-data-in' type='checkbox'><label for='data-c56111e1-6eeb-4d38-9ba0-cd02fa967285' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>degrees_east</dd><dt><span>long_name :</span></dt><dd>h point nominal longitude</dd><dt><span>axis :</span></dt><dd>X</dd><dt><span>_ChunkSizes :</span></dt><dd>775</dd></dl></div><div class='xr-var-data'><pre>array([-98.      , -97.920013, -97.839996, ..., -36.23999 , -36.160004,
       -36.079987], shape=(775,))</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>yh</span></div><div class='xr-var-dims'>(yh)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>5.273 5.352 5.432 ... 51.91 51.93</div><input id='attrs-488a5c7f-b3b8-46ea-b5b2-634a5aeb6565' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-488a5c7f-b3b8-46ea-b5b2-634a5aeb6565' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-5c5612cc-08fe-4710-8244-a10b6e56a4a7' class='xr-var-data-in' type='checkbox'><label for='data-5c5612cc-08fe-4710-8244-a10b6e56a4a7' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>degrees_north</dd><dt><span>long_name :</span></dt><dd>h point nominal latitude</dd><dt><span>axis :</span></dt><dd>Y</dd><dt><span>_ChunkSizes :</span></dt><dd>845</dd></dl></div><div class='xr-var-data'><pre>array([ 5.272542,  5.352199,  5.431845, ..., 51.895451, 51.914215, 51.932964],
      shape=(845,))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-674f613d-22cc-43c6-a076-c76ac968080b' class='xr-section-summary-in' type='checkbox'  checked><label for='section-674f613d-22cc-43c6-a076-c76ac968080b' class='xr-section-summary' >Data variables: <span>(2)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span>geolon</span></div><div class='xr-var-dims'>(yh, xh)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>-98.0 -97.92 ... -37.27 -37.19</div><input id='attrs-ba88cf48-ff7a-4e9c-9ec2-16aa80a9a252' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-ba88cf48-ff7a-4e9c-9ec2-16aa80a9a252' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-75bb3b00-2907-40c9-84f5-a0789d3ad7ac' class='xr-var-data-in' type='checkbox'><label for='data-75bb3b00-2907-40c9-84f5-a0789d3ad7ac' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>degrees_east</dd><dt><span>long_name :</span></dt><dd>Longitude of tracer (T) points</dd><dt><span>cell_methods :</span></dt><dd>time: point</dd><dt><span>_ChunkSizes :</span></dt><dd>[845 775]</dd></dl></div><div class='xr-var-data'><pre>array([[-98.      , -97.92001 , -97.84    , ..., -36.23999 , -36.160004,
        -36.079987],
       [-98.      , -97.92001 , -97.84    , ..., -36.23999 , -36.160004,
        -36.079987],
       [-98.      , -97.92001 , -97.84    , ..., -36.23999 , -36.160004,
        -36.079987],
       ...,
       [-98.43506 , -98.359344, -98.28366 , ..., -37.337585, -37.25409 ,
        -37.170563],
       [-98.43863 , -98.362976, -98.28732 , ..., -37.347107, -37.26358 ,
        -37.180054],
       [-98.44226 , -98.36664 , -98.291016, ..., -37.35669 , -37.273132,
        -37.189545]], shape=(845, 775), dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>geolat</span></div><div class='xr-var-dims'>(yh, xh)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>5.273 5.273 5.273 ... 58.16 58.16</div><input id='attrs-af3e3b84-33e4-4b52-93ab-bed1c7e0e439' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-af3e3b84-33e4-4b52-93ab-bed1c7e0e439' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-79125996-3d92-4b11-9384-576cc97453fb' class='xr-var-data-in' type='checkbox'><label for='data-79125996-3d92-4b11-9384-576cc97453fb' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>degrees_north</dd><dt><span>long_name :</span></dt><dd>Latitude of tracer (T) points</dd><dt><span>cell_methods :</span></dt><dd>time: point</dd><dt><span>_ChunkSizes :</span></dt><dd>[845 775]</dd></dl></div><div class='xr-var-data'><pre>array([[ 5.2725425,  5.2725425,  5.2725425, ...,  5.2725425,  5.2725425,
         5.2725425],
       [ 5.352199 ,  5.352199 ,  5.352199 , ...,  5.352199 ,  5.352199 ,
         5.352199 ],
       [ 5.431845 ,  5.431845 ,  5.431845 , ...,  5.431845 ,  5.431845 ,
         5.431845 ],
       ...,
       [48.751522 , 48.768772 , 48.78601  , ..., 58.06724  , 58.072598 ,
        58.077927 ],
       [48.75836  , 48.775677 , 48.792984 , ..., 58.10863  , 58.114006 ,
        58.119358 ],
       [48.765198 , 48.782578 , 48.799953 , ..., 58.14999  , 58.15538  ,
        58.160755 ]], shape=(845, 775), dtype=float32)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-517e1399-b0d2-4781-bf5e-b287746ee278' class='xr-section-summary-in' type='checkbox'  ><label for='section-517e1399-b0d2-4781-bf5e-b287746ee278' class='xr-section-summary' >Indexes: <span>(2)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>xh</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-3fce8900-1134-41aa-a858-eaa7d574d52c' class='xr-index-data-in' type='checkbox'/><label for='index-3fce8900-1134-41aa-a858-eaa7d574d52c' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([              -98.0,  -97.92001342773438,  -97.83999633789062,
          -97.760009765625,  -97.67999267578125,  -97.60000610351562,
        -97.51998901367188,  -97.44000244140625,   -97.3599853515625,
        -97.27999877929688,
       ...
        -36.79998779296875, -36.720001220703125,   -36.6400146484375,
        -36.55999755859375, -36.480010986328125, -36.399993896484375,
        -36.32000732421875,    -36.239990234375, -36.160003662109375,
       -36.079986572265625],
      dtype=&#x27;float64&#x27;, name=&#x27;xh&#x27;, length=775))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>yh</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-723ede0a-9349-4cfa-8b07-bd9bd3861ec3' class='xr-index-data-in' type='checkbox'/><label for='index-723ede0a-9349-4cfa-8b07-bd9bd3861ec3' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([ 5.272542476654053,  5.352199077606201,  5.431845188140869,
        5.511480331420898, 5.5911054611206055,  5.670719146728516,
        5.750322341918945,  5.829914093017578,  5.909494400024414,
        5.989063739776611,
       ...
       51.763702392578125,  51.78256607055664, 51.801414489746094,
        51.82025146484375, 51.839073181152344, 51.857879638671875,
       51.876670837402344, 51.895450592041016, 51.914215087890625,
        51.93296432495117],
      dtype=&#x27;float64&#x27;, name=&#x27;yh&#x27;, length=845))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-7eeaea77-c51c-4219-baa2-8918c8ca8d7f' class='xr-section-summary-in' type='checkbox'  checked><label for='section-7eeaea77-c51c-4219-baa2-8918c8ca8d7f' class='xr-section-summary' >Attributes: <span>(8)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'><dt><span>_NCProperties :</span></dt><dd>version=2,netcdf=4.9.0,hdf5=1.12.2</dd><dt><span>NumFilesInSet :</span></dt><dd>1</dd><dt><span>title :</span></dt><dd>NWA12_MOM6_v1.0</dd><dt><span>grid_type :</span></dt><dd>regular</dd><dt><span>grid_tile :</span></dt><dd>N/A</dd><dt><span>history :</span></dt><dd>Fri May 12 10:50:21 2023: ncks -4 -L 3 ocean_static.nc compressed/ocean_static.nc</dd><dt><span>NCO :</span></dt><dd>netCDF Operators version 5.0.1 (Homepage = http://nco.sf.net, Code = http://github.com/nco/nco)</dd><dt><span>DODS_EXTRA.Unlimited_Dimension :</span></dt><dd>time</dd></dl></div></li></ul></div></div></div></div>
</div>
<p>As one can see from above, the coordinate is only <code class="docutils literal notranslate"><span class="pre">xh</span></code> and <code class="docutils literal notranslate"><span class="pre">yh</span></code> now. Let’s merge the static dataset with the variable dataset.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ds_subset_static</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">merge</span><span class="p">([</span><span class="n">ds_subset</span><span class="p">,</span> <span class="n">ds_static</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<p>To ensure that plotting and regridding work correctly, we need to set <code class="docutils literal notranslate"><span class="pre">geolon</span></code> and <code class="docutils literal notranslate"><span class="pre">geolat</span></code> as coordinates in the merged dataset, as they are initially listed as variables after the merge.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ds_subset_static</span> <span class="o">=</span> <span class="n">ds_subset_static</span><span class="o">.</span><span class="n">set_coords</span><span class="p">([</span><span class="s1">&#39;geolon&#39;</span><span class="p">,</span><span class="s1">&#39;geolat&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ds_subset_static</span><span class="o">.</span><span class="n">tos</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;geolon&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;geolat&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.collections.QuadMesh at 0x7fc5659915d0&gt;
</pre></div>
</div>
<img alt="../../_images/7fcdf7b7b6bd35619b811b483f2f80f5b09bb0fc2c65f13afc1e9df39e3b84c9.png" src="../../_images/7fcdf7b7b6bd35619b811b483f2f80f5b09bb0fc2c65f13afc1e9df39e3b84c9.png" />
</div>
</div>
</section>
<section id="get-the-data-through-aws-s3">
<h2>Get the data through AWS S3<a class="headerlink" href="#get-the-data-through-aws-s3" title="Link to this heading">#</a></h2>
<p>Here we utilize the AWS S3 object storage as another data accessing method. We first define all the necessary information in a dictionary. These entries typically specify the details required to access a particular dataset. For this example, we will request the regridded dataset.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dict_data_info</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;region&quot;</span><span class="p">:</span> <span class="s2">&quot;northwest_atlantic&quot;</span><span class="p">,</span>
    <span class="s2">&quot;subdomain&quot;</span><span class="p">:</span> <span class="s2">&quot;full_domain&quot;</span><span class="p">,</span>
    <span class="s2">&quot;experiment_type&quot;</span><span class="p">:</span> <span class="s2">&quot;hindcast&quot;</span><span class="p">,</span>
    <span class="s2">&quot;output_frequency&quot;</span><span class="p">:</span> <span class="s2">&quot;monthly&quot;</span><span class="p">,</span>
    <span class="s2">&quot;grid_type&quot;</span><span class="p">:</span> <span class="s2">&quot;regrid&quot;</span><span class="p">,</span>
    <span class="s2">&quot;release&quot;</span><span class="p">:</span> <span class="s2">&quot;r20230520&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data_source&quot;</span><span class="p">:</span> <span class="s2">&quot;s3&quot;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<p>We use the <code class="docutils literal notranslate"><span class="pre">AccessFiles</span></code> class from the <code class="docutils literal notranslate"><span class="pre">mom6_read</span></code> module to specify the dataset information and data source. If the connection is successful, the class will return a standard message: <code class="docutils literal notranslate"><span class="pre">Success:</span> <span class="pre">URL</span> <span class="pre">...</span></code>, indicating the URL to the dataset. This URL can also be used to browse the OPeNDAP catalog, which lists all available variables associated with the specified dataset.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">mom6.mom6_module.mom6_read</span><span class="w"> </span><span class="kn">import</span> <span class="n">AccessFiles</span>
<span class="n">cefi_data_access</span> <span class="o">=</span> <span class="n">AccessFiles</span><span class="p">(</span><span class="o">**</span><span class="n">dict_data_info</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Files are available on S3 (s3://noaa-oar-cefi-regional-mom6-pds/northwest_atlantic/full_domain/hindcast/monthly/regrid/r20230520)
</pre></div>
</div>
</div>
</div>
<div class="info admonition">
<p class="admonition-title">Tip</p>
<p>The <code class="docutils literal notranslate"><span class="pre">**dict_data_info</span></code> syntax unpacks the key-value pairs in the dictionary and passes them as keyword arguments required to create the <code class="docutils literal notranslate"><span class="pre">cefi_data_access</span></code> object</p>
</div>
<p>Now let’s focus on a single variable - <code class="docutils literal notranslate"><span class="pre">tos</span></code>(sea surface temperature) for downloading. The way to get the variable is through the <code class="docutils literal notranslate"><span class="pre">.get()</span></code> method and by providing the keyword argument <code class="docutils literal notranslate"><span class="pre">variable='tos'</span></code> we can narrow the list down to only <code class="docutils literal notranslate"><span class="pre">tos</span></code> related file on the server for this specific dataset. <code class="docutils literal notranslate"><span class="pre">print_list</span></code> argument help the user to see if there are multiple files that has the variable name <code class="docutils literal notranslate"><span class="pre">tos</span></code>. In this case, we only have one.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">variable_urls</span> <span class="o">=</span> <span class="n">cefi_data_access</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">variable</span><span class="o">=</span><span class="s1">&#39;ssh&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">variable_urls</span></code> is a list object, in this case, only one element in the list.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">variable_urls</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;s3://noaa-oar-cefi-regional-mom6-pds/northwest_atlantic/full_domain/hindcast/monthly/regrid/r20230520/ssh.nwa.full.hcast.monthly.regrid.r20230520.199301-201912.json&#39;]
</pre></div>
</div>
</div>
</div>
<p>We can now use the URL to access the file with the power of <code class="docutils literal notranslate"><span class="pre">Xarray</span></code></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">xarray</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">xr</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">fsspec</span>

<span class="n">fs</span> <span class="o">=</span> <span class="n">fsspec</span><span class="o">.</span><span class="n">filesystem</span><span class="p">(</span>
    <span class="s2">&quot;reference&quot;</span><span class="p">,</span> 
    <span class="n">fo</span><span class="o">=</span><span class="s1">&#39;s3://noaa-oar-cefi-regional-mom6-pds/northwest_atlantic/full_domain/hindcast/monthly/regrid/r20230520/ssh.nwa.full.hcast.monthly.regrid.r20230520.199301-201912.json&#39;</span><span class="p">,</span>
    <span class="n">remote_protocol</span><span class="o">=</span><span class="s2">&quot;s3&quot;</span><span class="p">,</span> 
    <span class="n">remote_options</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;anon&quot;</span><span class="p">:</span><span class="kc">True</span><span class="p">}</span>
<span class="p">)</span>
 
<span class="n">ds</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">open_dataset</span><span class="p">(</span><span class="n">fs</span><span class="o">.</span><span class="n">get_mapper</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">),</span> <span class="n">engine</span><span class="o">=</span><span class="s1">&#39;zarr&#39;</span><span class="p">,</span><span class="n">backend_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;consolidated&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">})</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NoCredentialsError</span><span class="g g-Whitespace">                        </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">20</span><span class="p">],</span> <span class="n">line</span> <span class="mi">11</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span> <span class="kn">import</span><span class="w"> </span><span class="nn">fsspec</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span> <span class="n">fs</span> <span class="o">=</span> <span class="n">fsspec</span><span class="o">.</span><span class="n">filesystem</span><span class="p">(</span>
<span class="g g-Whitespace">      </span><span class="mi">5</span>     <span class="s2">&quot;reference&quot;</span><span class="p">,</span> 
<span class="g g-Whitespace">      </span><span class="mi">6</span>     <span class="n">fo</span><span class="o">=</span><span class="s1">&#39;s3://noaa-oar-cefi-regional-mom6-pds/northwest_atlantic/full_domain/hindcast/monthly/regrid/r20230520/ssh.nwa.full.hcast.monthly.regrid.r20230520.199301-201912.json&#39;</span><span class="p">,</span>
<span class="g g-Whitespace">      </span><span class="mi">7</span>     <span class="n">remote_protocol</span><span class="o">=</span><span class="s2">&quot;s3&quot;</span><span class="p">,</span> 
<span class="g g-Whitespace">      </span><span class="mi">8</span>     <span class="n">remote_options</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;anon&quot;</span><span class="p">:</span><span class="kc">True</span><span class="p">}</span>
<span class="g g-Whitespace">      </span><span class="mi">9</span> <span class="p">)</span>
<span class="ne">---&gt; </span><span class="mi">11</span> <span class="n">ds</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">open_dataset</span><span class="p">(</span><span class="n">fs</span><span class="o">.</span><span class="n">get_mapper</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">),</span> <span class="n">engine</span><span class="o">=</span><span class="s1">&#39;zarr&#39;</span><span class="p">,</span><span class="n">backend_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;consolidated&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">})</span>

<span class="nn">File ~/micromamba/envs/regional-mom6-dev/lib/python3.11/site-packages/xarray/backends/api.py:715,</span> in <span class="ni">open_dataset</span><span class="nt">(filename_or_obj, engine, chunks, cache, decode_cf, mask_and_scale, decode_times, decode_timedelta, use_cftime, concat_characters, decode_coords, drop_variables, create_default_indexes, inline_array, chunked_array_type, from_array_kwargs, backend_kwargs, **kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">703</span> <span class="n">decoders</span> <span class="o">=</span> <span class="n">_resolve_decoders_kwargs</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">704</span>     <span class="n">decode_cf</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">705</span>     <span class="n">open_backend_dataset_parameters</span><span class="o">=</span><span class="n">backend</span><span class="o">.</span><span class="n">open_dataset_parameters</span><span class="p">,</span>
   <span class="p">(</span><span class="o">...</span><span class="p">)</span>    <span class="mi">711</span>     <span class="n">decode_coords</span><span class="o">=</span><span class="n">decode_coords</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">712</span> <span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">714</span> <span class="n">overwrite_encoded_chunks</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;overwrite_encoded_chunks&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
<span class="ne">--&gt; </span><span class="mi">715</span> <span class="n">backend_ds</span> <span class="o">=</span> <span class="n">backend</span><span class="o">.</span><span class="n">open_dataset</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">716</span>     <span class="n">filename_or_obj</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">717</span>     <span class="n">drop_variables</span><span class="o">=</span><span class="n">drop_variables</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">718</span>     <span class="o">**</span><span class="n">decoders</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">719</span>     <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">720</span> <span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">721</span> <span class="n">ds</span> <span class="o">=</span> <span class="n">_dataset_from_backend_dataset</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">722</span>     <span class="n">backend_ds</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">723</span>     <span class="n">filename_or_obj</span><span class="p">,</span>
   <span class="p">(</span><span class="o">...</span><span class="p">)</span>    <span class="mi">734</span>     <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">735</span> <span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">736</span> <span class="k">return</span> <span class="n">ds</span>

<span class="nn">File ~/micromamba/envs/regional-mom6-dev/lib/python3.11/site-packages/xarray/backends/zarr.py:1587,</span> in <span class="ni">ZarrBackendEntrypoint.open_dataset</span><span class="nt">(self, filename_or_obj, mask_and_scale, decode_times, concat_characters, decode_coords, drop_variables, use_cftime, decode_timedelta, group, mode, synchronizer, consolidated, chunk_store, storage_options, zarr_version, zarr_format, store, engine, use_zarr_fill_value_as_mask, cache_members)</span>
<span class="g g-Whitespace">   </span><span class="mi">1585</span> <span class="n">filename_or_obj</span> <span class="o">=</span> <span class="n">_normalize_path</span><span class="p">(</span><span class="n">filename_or_obj</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">1586</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">store</span><span class="p">:</span>
<span class="ne">-&gt; </span><span class="mi">1587</span>     <span class="n">store</span> <span class="o">=</span> <span class="n">ZarrStore</span><span class="o">.</span><span class="n">open_group</span><span class="p">(</span>
<span class="g g-Whitespace">   </span><span class="mi">1588</span>         <span class="n">filename_or_obj</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1589</span>         <span class="n">group</span><span class="o">=</span><span class="n">group</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1590</span>         <span class="n">mode</span><span class="o">=</span><span class="n">mode</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1591</span>         <span class="n">synchronizer</span><span class="o">=</span><span class="n">synchronizer</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1592</span>         <span class="n">consolidated</span><span class="o">=</span><span class="n">consolidated</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1593</span>         <span class="n">consolidate_on_close</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1594</span>         <span class="n">chunk_store</span><span class="o">=</span><span class="n">chunk_store</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1595</span>         <span class="n">storage_options</span><span class="o">=</span><span class="n">storage_options</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1596</span>         <span class="n">zarr_version</span><span class="o">=</span><span class="n">zarr_version</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1597</span>         <span class="n">use_zarr_fill_value_as_mask</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1598</span>         <span class="n">zarr_format</span><span class="o">=</span><span class="n">zarr_format</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1599</span>         <span class="n">cache_members</span><span class="o">=</span><span class="n">cache_members</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1600</span>     <span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">1602</span> <span class="n">store_entrypoint</span> <span class="o">=</span> <span class="n">StoreBackendEntrypoint</span><span class="p">()</span>
<span class="g g-Whitespace">   </span><span class="mi">1603</span> <span class="k">with</span> <span class="n">close_on_error</span><span class="p">(</span><span class="n">store</span><span class="p">):</span>

<span class="nn">File ~/micromamba/envs/regional-mom6-dev/lib/python3.11/site-packages/xarray/backends/zarr.py:664,</span> in <span class="ni">ZarrStore.open_group</span><span class="nt">(cls, store, mode, synchronizer, group, consolidated, consolidate_on_close, chunk_store, storage_options, append_dim, write_region, safe_chunks, align_chunks, zarr_version, zarr_format, use_zarr_fill_value_as_mask, write_empty, cache_members)</span>
<span class="g g-Whitespace">    </span><span class="mi">638</span> <span class="nd">@classmethod</span>
<span class="g g-Whitespace">    </span><span class="mi">639</span> <span class="k">def</span><span class="w"> </span><span class="nf">open_group</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">640</span>     <span class="bp">cls</span><span class="p">,</span>
   <span class="p">(</span><span class="o">...</span><span class="p">)</span>    <span class="mi">657</span>     <span class="n">cache_members</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">658</span> <span class="p">):</span>
<span class="g g-Whitespace">    </span><span class="mi">659</span>     <span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">660</span>         <span class="n">zarr_group</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">661</span>         <span class="n">consolidate_on_close</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">662</span>         <span class="n">close_store_on_close</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">663</span>         <span class="n">use_zarr_fill_value_as_mask</span><span class="p">,</span>
<span class="ne">--&gt; </span><span class="mi">664</span>     <span class="p">)</span> <span class="o">=</span> <span class="n">_get_open_params</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">665</span>         <span class="n">store</span><span class="o">=</span><span class="n">store</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">666</span>         <span class="n">mode</span><span class="o">=</span><span class="n">mode</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">667</span>         <span class="n">synchronizer</span><span class="o">=</span><span class="n">synchronizer</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">668</span>         <span class="n">group</span><span class="o">=</span><span class="n">group</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">669</span>         <span class="n">consolidated</span><span class="o">=</span><span class="n">consolidated</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">670</span>         <span class="n">consolidate_on_close</span><span class="o">=</span><span class="n">consolidate_on_close</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">671</span>         <span class="n">chunk_store</span><span class="o">=</span><span class="n">chunk_store</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">672</span>         <span class="n">storage_options</span><span class="o">=</span><span class="n">storage_options</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">673</span>         <span class="n">zarr_version</span><span class="o">=</span><span class="n">zarr_version</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">674</span>         <span class="n">use_zarr_fill_value_as_mask</span><span class="o">=</span><span class="n">use_zarr_fill_value_as_mask</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">675</span>         <span class="n">zarr_format</span><span class="o">=</span><span class="n">zarr_format</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">676</span>     <span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">678</span>     <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">679</span>         <span class="n">zarr_group</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">680</span>         <span class="n">mode</span><span class="p">,</span>
   <span class="p">(</span><span class="o">...</span><span class="p">)</span>    <span class="mi">689</span>         <span class="n">cache_members</span><span class="o">=</span><span class="n">cache_members</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">690</span>     <span class="p">)</span>

<span class="nn">File ~/micromamba/envs/regional-mom6-dev/lib/python3.11/site-packages/xarray/backends/zarr.py:1829,</span> in <span class="ni">_get_open_params</span><span class="nt">(store, mode, synchronizer, group, consolidated, consolidate_on_close, chunk_store, storage_options, zarr_version, use_zarr_fill_value_as_mask, zarr_format)</span>
<span class="g g-Whitespace">   </span><span class="mi">1825</span>     <span class="k">if</span> <span class="n">_zarr_v3</span><span class="p">():</span>
<span class="g g-Whitespace">   </span><span class="mi">1826</span>         <span class="c1"># we have determined that we don&#39;t want to use consolidated metadata</span>
<span class="g g-Whitespace">   </span><span class="mi">1827</span>         <span class="c1"># so we set that to False to avoid trying to read it</span>
<span class="g g-Whitespace">   </span><span class="mi">1828</span>         <span class="n">open_kwargs</span><span class="p">[</span><span class="s2">&quot;use_consolidated&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
<span class="ne">-&gt; </span><span class="mi">1829</span>     <span class="n">zarr_group</span> <span class="o">=</span> <span class="n">zarr</span><span class="o">.</span><span class="n">open_group</span><span class="p">(</span><span class="n">store</span><span class="p">,</span> <span class="o">**</span><span class="n">open_kwargs</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">1831</span> <span class="n">close_store_on_close</span> <span class="o">=</span> <span class="n">zarr_group</span><span class="o">.</span><span class="n">store</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">store</span>
<span class="g g-Whitespace">   </span><span class="mi">1833</span> <span class="c1"># we use this to determine how to handle fill_value</span>

<span class="nn">File ~/micromamba/envs/regional-mom6-dev/lib/python3.11/site-packages/zarr/hierarchy.py:1575,</span> in <span class="ni">open_group</span><span class="nt">(store, mode, cache_attrs, synchronizer, path, chunk_store, storage_options, zarr_version, meta_array)</span>
<span class="g g-Whitespace">   </span><span class="mi">1572</span> <span class="c1"># ensure store is initialized</span>
<span class="g g-Whitespace">   </span><span class="mi">1574</span> <span class="k">if</span> <span class="n">mode</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="s2">&quot;r+&quot;</span><span class="p">]:</span>
<span class="ne">-&gt; </span><span class="mi">1575</span>     <span class="k">if</span> <span class="ow">not</span> <span class="n">contains_group</span><span class="p">(</span><span class="n">store</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">):</span>
<span class="g g-Whitespace">   </span><span class="mi">1576</span>         <span class="k">if</span> <span class="n">contains_array</span><span class="p">(</span><span class="n">store</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">):</span>
<span class="g g-Whitespace">   </span><span class="mi">1577</span>             <span class="k">raise</span> <span class="n">ContainsArrayError</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>

<span class="nn">File ~/micromamba/envs/regional-mom6-dev/lib/python3.11/site-packages/zarr/storage.py:131,</span> in <span class="ni">contains_group</span><span class="nt">(store, path, explicit_only)</span>
<span class="g g-Whitespace">    </span><span class="mi">129</span> <span class="n">store_version</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">store</span><span class="p">,</span> <span class="s2">&quot;_store_version&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">130</span> <span class="k">if</span> <span class="n">store_version</span> <span class="o">==</span> <span class="mi">2</span> <span class="ow">or</span> <span class="n">explicit_only</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">131</span>     <span class="k">return</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">store</span>
<span class="g g-Whitespace">    </span><span class="mi">132</span> <span class="k">else</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">133</span>     <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">store</span><span class="p">:</span>

<span class="nn">File ~/micromamba/envs/regional-mom6-dev/lib/python3.11/site-packages/zarr/storage.py:1496,</span> in <span class="ni">FSStore.__contains__</span><span class="nt">(self, key)</span>
<span class="g g-Whitespace">   </span><span class="mi">1494</span> <span class="k">def</span><span class="w"> </span><span class="fm">__contains__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
<span class="g g-Whitespace">   </span><span class="mi">1495</span>     <span class="n">key</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_normalize_key</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
<span class="ne">-&gt; </span><span class="mi">1496</span>     <span class="k">return</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">map</span>

<span class="nn">File ~/micromamba/envs/regional-mom6-dev/lib/python3.11/site-packages/fsspec/mapping.py:193,</span> in <span class="ni">FSMap.__contains__</span><span class="nt">(self, key)</span>
<span class="g g-Whitespace">    </span><span class="mi">191</span><span class="w"> </span><span class="sd">&quot;&quot;&quot;Does key exist in mapping?&quot;&quot;&quot;</span>
<span class="g g-Whitespace">    </span><span class="mi">192</span> <span class="n">path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_key_to_str</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
<span class="ne">--&gt; </span><span class="mi">193</span> <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>

<span class="nn">File ~/micromamba/envs/regional-mom6-dev/lib/python3.11/site-packages/fsspec/implementations/reference.py:1171,</span> in <span class="ni">ReferenceFileSystem.isfile</span><span class="nt">(self, path)</span>
<span class="g g-Whitespace">   </span><span class="mi">1170</span> <span class="k">def</span><span class="w"> </span><span class="nf">isfile</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">):</span>  <span class="c1"># overwrite auto-sync version</span>
<span class="ne">-&gt; </span><span class="mi">1171</span>     <span class="k">return</span> <span class="n">path</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">references</span>

<span class="nn">File ~/micromamba/envs/regional-mom6-dev/lib/python3.11/site-packages/fsspec/implementations/reference.py:577,</span> in <span class="ni">LazyReferenceMapper.__contains__</span><span class="nt">(self, item)</span>
<span class="g g-Whitespace">    </span><span class="mi">575</span> <span class="k">def</span><span class="w"> </span><span class="fm">__contains__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
<span class="g g-Whitespace">    </span><span class="mi">576</span>     <span class="k">try</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">577</span>         <span class="bp">self</span><span class="o">.</span><span class="n">_load_one_key</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">578</span>         <span class="k">return</span> <span class="kc">True</span>
<span class="g g-Whitespace">    </span><span class="mi">579</span>     <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>

<span class="nn">File ~/micromamba/envs/regional-mom6-dev/lib/python3.11/site-packages/fsspec/implementations/reference.py:295,</span> in <span class="ni">LazyReferenceMapper._load_one_key</span><span class="nt">(self, key)</span>
<span class="g g-Whitespace">    </span><span class="mi">290</span> <span class="k">def</span><span class="w"> </span><span class="nf">_load_one_key</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
<span class="g g-Whitespace">    </span><span class="mi">291</span><span class="w">     </span><span class="sd">&quot;&quot;&quot;Get the reference for one key</span>
<span class="g g-Whitespace">    </span><span class="mi">292</span><span class="sd"> </span>
<span class="g g-Whitespace">    </span><span class="mi">293</span><span class="sd">     Returns bytes, one-element list or three-element list.</span>
<span class="g g-Whitespace">    </span><span class="mi">294</span><span class="sd">     &quot;&quot;&quot;</span>
<span class="ne">--&gt; </span><span class="mi">295</span>     <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_items</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">296</span>         <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_items</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
<span class="g g-Whitespace">    </span><span class="mi">297</span>     <span class="k">elif</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">zmetadata</span><span class="p">:</span>

<span class="nn">File ~/micromamba/envs/regional-mom6-dev/lib/python3.11/site-packages/fsspec/implementations/reference.py:158,</span> in <span class="ni">LazyReferenceMapper.__getattr__</span><span class="nt">(self, item)</span>
<span class="g g-Whitespace">    </span><span class="mi">156</span> <span class="k">def</span><span class="w"> </span><span class="fm">__getattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
<span class="g g-Whitespace">    </span><span class="mi">157</span>     <span class="k">if</span> <span class="n">item</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;_items&quot;</span><span class="p">,</span> <span class="s2">&quot;record_size&quot;</span><span class="p">,</span> <span class="s2">&quot;zmetadata&quot;</span><span class="p">):</span>
<span class="ne">--&gt; </span><span class="mi">158</span>         <span class="bp">self</span><span class="o">.</span><span class="n">setup</span><span class="p">()</span>
<span class="g g-Whitespace">    </span><span class="mi">159</span>         <span class="c1"># avoid possible recursion if setup fails somehow</span>
<span class="g g-Whitespace">    </span><span class="mi">160</span>         <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">item</span><span class="p">]</span>

<span class="nn">File ~/micromamba/envs/regional-mom6-dev/lib/python3.11/site-packages/fsspec/implementations/reference.py:165,</span> in <span class="ni">LazyReferenceMapper.setup</span><span class="nt">(self)</span>
<span class="g g-Whitespace">    </span><span class="mi">163</span> <span class="k">def</span><span class="w"> </span><span class="nf">setup</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="g g-Whitespace">    </span><span class="mi">164</span>     <span class="bp">self</span><span class="o">.</span><span class="n">_items</span> <span class="o">=</span> <span class="p">{}</span>
<span class="ne">--&gt; </span><span class="mi">165</span>     <span class="bp">self</span><span class="o">.</span><span class="n">_items</span><span class="p">[</span><span class="s2">&quot;.zmetadata&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">cat_file</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">166</span>         <span class="s2">&quot;/&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">root</span><span class="p">,</span> <span class="s2">&quot;.zmetadata&quot;</span><span class="p">])</span>
<span class="g g-Whitespace">    </span><span class="mi">167</span>     <span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">168</span>     <span class="n">met</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_items</span><span class="p">[</span><span class="s2">&quot;.zmetadata&quot;</span><span class="p">])</span>
<span class="g g-Whitespace">    </span><span class="mi">169</span>     <span class="bp">self</span><span class="o">.</span><span class="n">record_size</span> <span class="o">=</span> <span class="n">met</span><span class="p">[</span><span class="s2">&quot;record_size&quot;</span><span class="p">]</span>

<span class="nn">File ~/micromamba/envs/regional-mom6-dev/lib/python3.11/site-packages/fsspec/asyn.py:118,</span> in <span class="ni">sync_wrapper.&lt;locals&gt;.wrapper</span><span class="nt">(*args, **kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">115</span> <span class="nd">@functools</span><span class="o">.</span><span class="n">wraps</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">116</span> <span class="k">def</span><span class="w"> </span><span class="nf">wrapper</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="g g-Whitespace">    </span><span class="mi">117</span>     <span class="bp">self</span> <span class="o">=</span> <span class="n">obj</span> <span class="ow">or</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="ne">--&gt; </span><span class="mi">118</span>     <span class="k">return</span> <span class="n">sync</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">loop</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

<span class="nn">File ~/micromamba/envs/regional-mom6-dev/lib/python3.11/site-packages/fsspec/asyn.py:103,</span> in <span class="ni">sync</span><span class="nt">(loop, func, timeout, *args, **kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">101</span>     <span class="k">raise</span> <span class="n">FSTimeoutError</span> <span class="kn">from</span><span class="w"> </span><span class="nn">return_result</span>
<span class="g g-Whitespace">    </span><span class="mi">102</span> <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">return_result</span><span class="p">,</span> <span class="ne">BaseException</span><span class="p">):</span>
<span class="ne">--&gt; </span><span class="mi">103</span>     <span class="k">raise</span> <span class="n">return_result</span>
<span class="g g-Whitespace">    </span><span class="mi">104</span> <span class="k">else</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">105</span>     <span class="k">return</span> <span class="n">return_result</span>

<span class="nn">File ~/micromamba/envs/regional-mom6-dev/lib/python3.11/site-packages/fsspec/asyn.py:56,</span> in <span class="ni">_runner</span><span class="nt">(event, coro, result, timeout)</span>
<span class="g g-Whitespace">     </span><span class="mi">54</span>     <span class="n">coro</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">wait_for</span><span class="p">(</span><span class="n">coro</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">55</span> <span class="k">try</span><span class="p">:</span>
<span class="ne">---&gt; </span><span class="mi">56</span>     <span class="n">result</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="k">await</span> <span class="n">coro</span>
<span class="g g-Whitespace">     </span><span class="mi">57</span> <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
<span class="g g-Whitespace">     </span><span class="mi">58</span>     <span class="n">result</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">ex</span>

<span class="nn">File ~/micromamba/envs/regional-mom6-dev/lib/python3.11/site-packages/s3fs/core.py:1158,</span> in <span class="ni">S3FileSystem._cat_file</span><span class="nt">(self, path, version_id, start, end)</span>
<span class="g g-Whitespace">   </span><span class="mi">1155</span>     <span class="k">finally</span><span class="p">:</span>
<span class="g g-Whitespace">   </span><span class="mi">1156</span>         <span class="n">resp</span><span class="p">[</span><span class="s2">&quot;Body&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="ne">-&gt; </span><span class="mi">1158</span> <span class="k">return</span> <span class="k">await</span> <span class="n">_error_wrapper</span><span class="p">(</span><span class="n">_call_and_read</span><span class="p">,</span> <span class="n">retries</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">retries</span><span class="p">)</span>

<span class="nn">File ~/micromamba/envs/regional-mom6-dev/lib/python3.11/site-packages/s3fs/core.py:146,</span> in <span class="ni">_error_wrapper</span><span class="nt">(func, args, kwargs, retries)</span>
<span class="g g-Whitespace">    </span><span class="mi">144</span>         <span class="n">err</span> <span class="o">=</span> <span class="n">e</span>
<span class="g g-Whitespace">    </span><span class="mi">145</span> <span class="n">err</span> <span class="o">=</span> <span class="n">translate_boto_error</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="ne">--&gt; </span><span class="mi">146</span> <span class="k">raise</span> <span class="n">err</span>

<span class="nn">File ~/micromamba/envs/regional-mom6-dev/lib/python3.11/site-packages/s3fs/core.py:114,</span> in <span class="ni">_error_wrapper</span><span class="nt">(func, args, kwargs, retries)</span>
<span class="g g-Whitespace">    </span><span class="mi">112</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">retries</span><span class="p">):</span>
<span class="g g-Whitespace">    </span><span class="mi">113</span>     <span class="k">try</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">114</span>         <span class="k">return</span> <span class="k">await</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">115</span>     <span class="k">except</span> <span class="n">S3_RETRYABLE_ERRORS</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">116</span>         <span class="n">err</span> <span class="o">=</span> <span class="n">e</span>

<span class="nn">File ~/micromamba/envs/regional-mom6-dev/lib/python3.11/site-packages/s3fs/core.py:1145,</span> in <span class="ni">S3FileSystem._cat_file.&lt;locals&gt;._call_and_read</span><span class="nt">()</span>
<span class="g g-Whitespace">   </span><span class="mi">1144</span> <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">_call_and_read</span><span class="p">():</span>
<span class="ne">-&gt; </span><span class="mi">1145</span>     <span class="n">resp</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_s3</span><span class="p">(</span>
<span class="g g-Whitespace">   </span><span class="mi">1146</span>         <span class="s2">&quot;get_object&quot;</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1147</span>         <span class="n">Bucket</span><span class="o">=</span><span class="n">bucket</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1148</span>         <span class="n">Key</span><span class="o">=</span><span class="n">key</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1149</span>         <span class="o">**</span><span class="n">version_id_kw</span><span class="p">(</span><span class="n">version_id</span> <span class="ow">or</span> <span class="n">vers</span><span class="p">),</span>
<span class="g g-Whitespace">   </span><span class="mi">1150</span>         <span class="o">**</span><span class="n">head</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1151</span>         <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">req_kw</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1152</span>     <span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">1153</span>     <span class="k">try</span><span class="p">:</span>
<span class="g g-Whitespace">   </span><span class="mi">1154</span>         <span class="k">return</span> <span class="k">await</span> <span class="n">resp</span><span class="p">[</span><span class="s2">&quot;Body&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="nn">File ~/micromamba/envs/regional-mom6-dev/lib/python3.11/site-packages/s3fs/core.py:371,</span> in <span class="ni">S3FileSystem._call_s3</span><span class="nt">(self, method, *akwarglist, **kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">369</span> <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;CALL: </span><span class="si">%s</span><span class="s2"> - </span><span class="si">%s</span><span class="s2"> - </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">method</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">akwarglist</span><span class="p">,</span> <span class="n">kw2</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">370</span> <span class="n">additional_kwargs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_s3_method_kwargs</span><span class="p">(</span><span class="n">method</span><span class="p">,</span> <span class="o">*</span><span class="n">akwarglist</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="ne">--&gt; </span><span class="mi">371</span> <span class="k">return</span> <span class="k">await</span> <span class="n">_error_wrapper</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">372</span>     <span class="n">method</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">=</span><span class="n">additional_kwargs</span><span class="p">,</span> <span class="n">retries</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">retries</span>
<span class="g g-Whitespace">    </span><span class="mi">373</span> <span class="p">)</span>

<span class="nn">File ~/micromamba/envs/regional-mom6-dev/lib/python3.11/site-packages/s3fs/core.py:146,</span> in <span class="ni">_error_wrapper</span><span class="nt">(func, args, kwargs, retries)</span>
<span class="g g-Whitespace">    </span><span class="mi">144</span>         <span class="n">err</span> <span class="o">=</span> <span class="n">e</span>
<span class="g g-Whitespace">    </span><span class="mi">145</span> <span class="n">err</span> <span class="o">=</span> <span class="n">translate_boto_error</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="ne">--&gt; </span><span class="mi">146</span> <span class="k">raise</span> <span class="n">err</span>

<span class="nn">File ~/micromamba/envs/regional-mom6-dev/lib/python3.11/site-packages/s3fs/core.py:114,</span> in <span class="ni">_error_wrapper</span><span class="nt">(func, args, kwargs, retries)</span>
<span class="g g-Whitespace">    </span><span class="mi">112</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">retries</span><span class="p">):</span>
<span class="g g-Whitespace">    </span><span class="mi">113</span>     <span class="k">try</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">114</span>         <span class="k">return</span> <span class="k">await</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">115</span>     <span class="k">except</span> <span class="n">S3_RETRYABLE_ERRORS</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">116</span>         <span class="n">err</span> <span class="o">=</span> <span class="n">e</span>

<span class="nn">File ~/micromamba/envs/regional-mom6-dev/lib/python3.11/site-packages/aiobotocore/context.py:36,</span> in <span class="ni">with_current_context.&lt;locals&gt;.decorator.&lt;locals&gt;.wrapper</span><span class="nt">(*args, **kwargs)</span>
<span class="g g-Whitespace">     </span><span class="mi">34</span> <span class="k">if</span> <span class="n">hook</span><span class="p">:</span>
<span class="g g-Whitespace">     </span><span class="mi">35</span>     <span class="k">await</span> <span class="n">resolve_awaitable</span><span class="p">(</span><span class="n">hook</span><span class="p">())</span>
<span class="ne">---&gt; </span><span class="mi">36</span> <span class="k">return</span> <span class="k">await</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

<span class="nn">File ~/micromamba/envs/regional-mom6-dev/lib/python3.11/site-packages/aiobotocore/client.py:406,</span> in <span class="ni">AioBaseClient._make_api_call</span><span class="nt">(self, operation_name, api_params)</span>
<span class="g g-Whitespace">    </span><span class="mi">402</span>     <span class="n">maybe_compress_request</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">403</span>         <span class="bp">self</span><span class="o">.</span><span class="n">meta</span><span class="o">.</span><span class="n">config</span><span class="p">,</span> <span class="n">request_dict</span><span class="p">,</span> <span class="n">operation_model</span>
<span class="g g-Whitespace">    </span><span class="mi">404</span>     <span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">405</span>     <span class="n">apply_request_checksum</span><span class="p">(</span><span class="n">request_dict</span><span class="p">)</span>
<span class="ne">--&gt; </span><span class="mi">406</span>     <span class="n">http</span><span class="p">,</span> <span class="n">parsed_response</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_make_request</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">407</span>         <span class="n">operation_model</span><span class="p">,</span> <span class="n">request_dict</span><span class="p">,</span> <span class="n">request_context</span>
<span class="g g-Whitespace">    </span><span class="mi">408</span>     <span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">410</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">meta</span><span class="o">.</span><span class="n">events</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">411</span>     <span class="sa">f</span><span class="s1">&#39;after-call.</span><span class="si">{</span><span class="n">service_id</span><span class="si">}</span><span class="s1">.</span><span class="si">{</span><span class="n">operation_name</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">412</span>     <span class="n">http_response</span><span class="o">=</span><span class="n">http</span><span class="p">,</span>
   <span class="p">(</span><span class="o">...</span><span class="p">)</span>    <span class="mi">415</span>     <span class="n">context</span><span class="o">=</span><span class="n">request_context</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">416</span> <span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">418</span> <span class="k">if</span> <span class="n">http</span><span class="o">.</span><span class="n">status_code</span> <span class="o">&gt;=</span> <span class="mi">300</span><span class="p">:</span>

<span class="nn">File ~/micromamba/envs/regional-mom6-dev/lib/python3.11/site-packages/aiobotocore/client.py:432,</span> in <span class="ni">AioBaseClient._make_request</span><span class="nt">(self, operation_model, request_dict, request_context)</span>
<span class="g g-Whitespace">    </span><span class="mi">428</span> <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">_make_request</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">429</span>     <span class="bp">self</span><span class="p">,</span> <span class="n">operation_model</span><span class="p">,</span> <span class="n">request_dict</span><span class="p">,</span> <span class="n">request_context</span>
<span class="g g-Whitespace">    </span><span class="mi">430</span> <span class="p">):</span>
<span class="g g-Whitespace">    </span><span class="mi">431</span>     <span class="k">try</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">432</span>         <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_endpoint</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">433</span>             <span class="n">operation_model</span><span class="p">,</span> <span class="n">request_dict</span>
<span class="g g-Whitespace">    </span><span class="mi">434</span>         <span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">435</span>     <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">436</span>         <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">meta</span><span class="o">.</span><span class="n">events</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">437</span>             <span class="sa">f</span><span class="s1">&#39;after-call-error.</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_service_model</span><span class="o">.</span><span class="n">service_id</span><span class="o">.</span><span class="n">hyphenize</span><span class="p">()</span><span class="si">}</span><span class="s1">.</span><span class="si">{</span><span class="n">operation_model</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">438</span>             <span class="n">exception</span><span class="o">=</span><span class="n">e</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">439</span>             <span class="n">context</span><span class="o">=</span><span class="n">request_context</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">440</span>         <span class="p">)</span>

<span class="nn">File ~/micromamba/envs/regional-mom6-dev/lib/python3.11/site-packages/aiobotocore/endpoint.py:116,</span> in <span class="ni">AioEndpoint._send_request</span><span class="nt">(self, request_dict, operation_model)</span>
<span class="g g-Whitespace">    </span><span class="mi">114</span> <span class="n">context</span> <span class="o">=</span> <span class="n">request_dict</span><span class="p">[</span><span class="s1">&#39;context&#39;</span><span class="p">]</span>
<span class="g g-Whitespace">    </span><span class="mi">115</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_retries_context</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">attempts</span><span class="p">)</span>
<span class="ne">--&gt; </span><span class="mi">116</span> <span class="n">request</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_request</span><span class="p">(</span><span class="n">request_dict</span><span class="p">,</span> <span class="n">operation_model</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">117</span> <span class="n">success_response</span><span class="p">,</span> <span class="n">exception</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_response</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">118</span>     <span class="n">request</span><span class="p">,</span> <span class="n">operation_model</span><span class="p">,</span> <span class="n">context</span>
<span class="g g-Whitespace">    </span><span class="mi">119</span> <span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">120</span> <span class="k">while</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_needs_retry</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">121</span>     <span class="n">attempts</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">122</span>     <span class="n">operation_model</span><span class="p">,</span>
   <span class="p">(</span><span class="o">...</span><span class="p">)</span>    <span class="mi">125</span>     <span class="n">exception</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">126</span> <span class="p">):</span>

<span class="nn">File ~/micromamba/envs/regional-mom6-dev/lib/python3.11/site-packages/aiobotocore/endpoint.py:104,</span> in <span class="ni">AioEndpoint.create_request</span><span class="nt">(self, params, operation_model)</span>
<span class="g g-Whitespace">    </span><span class="mi">102</span>     <span class="n">service_id</span> <span class="o">=</span> <span class="n">operation_model</span><span class="o">.</span><span class="n">service_model</span><span class="o">.</span><span class="n">service_id</span><span class="o">.</span><span class="n">hyphenize</span><span class="p">()</span>
<span class="g g-Whitespace">    </span><span class="mi">103</span>     <span class="n">event_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;request-created.</span><span class="si">{</span><span class="n">service_id</span><span class="si">}</span><span class="s1">.</span><span class="si">{</span><span class="n">operation_model</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s1">&#39;</span>
<span class="ne">--&gt; </span><span class="mi">104</span>     <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_event_emitter</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">105</span>         <span class="n">event_name</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">106</span>         <span class="n">request</span><span class="o">=</span><span class="n">request</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">107</span>         <span class="n">operation_name</span><span class="o">=</span><span class="n">operation_model</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">108</span>     <span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">109</span> <span class="n">prepared_request</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">prepare_request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">110</span> <span class="k">return</span> <span class="n">prepared_request</span>

<span class="nn">File ~/micromamba/envs/regional-mom6-dev/lib/python3.11/site-packages/aiobotocore/hooks.py:68,</span> in <span class="ni">AioHierarchicalEmitter._emit</span><span class="nt">(self, event_name, kwargs, stop_on_response)</span>
<span class="g g-Whitespace">     </span><span class="mi">65</span> <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;Event </span><span class="si">%s</span><span class="s1">: calling handler </span><span class="si">%s</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">event_name</span><span class="p">,</span> <span class="n">handler</span><span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">67</span> <span class="c1"># Await the handler if its a coroutine.</span>
<span class="ne">---&gt; </span><span class="mi">68</span> <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">resolve_awaitable</span><span class="p">(</span><span class="n">handler</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
<span class="g g-Whitespace">     </span><span class="mi">69</span> <span class="n">responses</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">handler</span><span class="p">,</span> <span class="n">response</span><span class="p">))</span>
<span class="g g-Whitespace">     </span><span class="mi">70</span> <span class="k">if</span> <span class="n">stop_on_response</span> <span class="ow">and</span> <span class="n">response</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>

<span class="nn">File ~/micromamba/envs/regional-mom6-dev/lib/python3.11/site-packages/aiobotocore/_helpers.py:6,</span> in <span class="ni">resolve_awaitable</span><span class="nt">(obj)</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span> <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">resolve_awaitable</span><span class="p">(</span><span class="n">obj</span><span class="p">):</span>
<span class="g g-Whitespace">      </span><span class="mi">5</span>     <span class="k">if</span> <span class="n">inspect</span><span class="o">.</span><span class="n">isawaitable</span><span class="p">(</span><span class="n">obj</span><span class="p">):</span>
<span class="ne">----&gt; </span><span class="mi">6</span>         <span class="k">return</span> <span class="k">await</span> <span class="n">obj</span>
<span class="g g-Whitespace">      </span><span class="mi">8</span>     <span class="k">return</span> <span class="n">obj</span>

<span class="nn">File ~/micromamba/envs/regional-mom6-dev/lib/python3.11/site-packages/aiobotocore/signers.py:25,</span> in <span class="ni">AioRequestSigner.handler</span><span class="nt">(self, operation_name, request, **kwargs)</span>
<span class="g g-Whitespace">     </span><span class="mi">20</span> <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">handler</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">operation_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">request</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="g g-Whitespace">     </span><span class="mi">21</span>     <span class="c1"># This is typically hooked up to the &quot;request-created&quot; event</span>
<span class="g g-Whitespace">     </span><span class="mi">22</span>     <span class="c1"># from a client&#39;s event emitter.  When a new request is created</span>
<span class="g g-Whitespace">     </span><span class="mi">23</span>     <span class="c1"># this method is invoked to sign the request.</span>
<span class="g g-Whitespace">     </span><span class="mi">24</span>     <span class="c1"># Don&#39;t call this method directly.</span>
<span class="ne">---&gt; </span><span class="mi">25</span>     <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">sign</span><span class="p">(</span><span class="n">operation_name</span><span class="p">,</span> <span class="n">request</span><span class="p">)</span>

<span class="nn">File ~/micromamba/envs/regional-mom6-dev/lib/python3.11/site-packages/aiobotocore/signers.py:91,</span> in <span class="ni">AioRequestSigner.sign</span><span class="nt">(self, operation_name, request, region_name, signing_type, expires_in, signing_name)</span>
<span class="g g-Whitespace">     </span><span class="mi">88</span>     <span class="k">else</span><span class="p">:</span>
<span class="g g-Whitespace">     </span><span class="mi">89</span>         <span class="k">raise</span> <span class="n">e</span>
<span class="ne">---&gt; </span><span class="mi">91</span> <span class="n">auth</span><span class="o">.</span><span class="n">add_auth</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>

<span class="nn">File ~/micromamba/envs/regional-mom6-dev/lib/python3.11/site-packages/botocore/auth.py:421,</span> in <span class="ni">SigV4Auth.add_auth</span><span class="nt">(self, request)</span>
<span class="g g-Whitespace">    </span><span class="mi">419</span> <span class="k">def</span><span class="w"> </span><span class="nf">add_auth</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">):</span>
<span class="g g-Whitespace">    </span><span class="mi">420</span>     <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">credentials</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">421</span>         <span class="k">raise</span> <span class="n">NoCredentialsError</span><span class="p">()</span>
<span class="g g-Whitespace">    </span><span class="mi">422</span>     <span class="n">datetime_now</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span>
<span class="g g-Whitespace">    </span><span class="mi">423</span>     <span class="n">request</span><span class="o">.</span><span class="n">context</span><span class="p">[</span><span class="s1">&#39;timestamp&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">datetime_now</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="n">SIGV4_TIMESTAMP</span><span class="p">)</span>

<span class="ne">NoCredentialsError</span>: Unable to locate credentials
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ds_subset</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">time</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">load</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ds_subset</span><span class="o">.</span><span class="n">ssh</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.collections.QuadMesh at 0x7ff5239517b0&gt;
</pre></div>
</div>
<img alt="../../_images/d7e2d24c5512118eaaf31e3e63eae3530922832412d79c88fee02fc9c7a53f5c.png" src="../../_images/d7e2d24c5512118eaaf31e3e63eae3530922832412d79c88fee02fc9c7a53f5c.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">s3fs</span><span class="o">,</span><span class="w"> </span><span class="nn">zarr</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;xarry version:&#39;</span><span class="p">,</span> <span class="n">xr</span><span class="o">.</span><span class="n">__version__</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;fsspec version:&#39;</span><span class="p">,</span><span class="n">fsspec</span><span class="o">.</span><span class="n">__version__</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;zarr version:&#39;</span><span class="p">,</span><span class="n">zarr</span><span class="o">.</span><span class="n">__version__</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;s3fs version:&#39;</span><span class="p">,</span><span class="n">s3fs</span><span class="o">.</span><span class="n">__version__</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>xarry version: 2024.3.0
fsspec version: 2025.2.0
zarr version: 2.18.3
s3fs version: 2025.2.0
</pre></div>
</div>
</div>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./content/tutorials"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#get-the-data-through-opendap">Get the data through OPeNDAP</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#get-the-data-through-aws-s3">Get the data through AWS S3</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By regional_mom6 development team
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>